(this.webpackJsonpinteract=this.webpackJsonpinteract||[]).push([[0],{166:function(e,t,n){},351:function(e,t,n){},562:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(0),a=n.n(i),o=n(55),c=n.n(o),s=(n(351),n(8)),l=Object(i.createContext)(),u=function(e){var t=Object(i.useState)({players:[{name:"YOU",color:"green",selections:[],score:null},{name:"CARNAC",color:"red",selections:[],score:null}],images:[],previousPracticeRounds:[],practiceRound:{}}),n=Object(s.a)(t,2),a=n[0],o=n[1];return Object(r.jsx)(l.Provider,{value:[a,o],children:e.children})},d=n(29),b=n(194),h=n.n(b),f=n(196),j=(n(354),n(5)),g=n(12),p=n.n(g),m=n(20),x=n(4),O=n(22),v=n(6),y=n(306),_=n.n(y);function w(){var e=Object(j.a)(["\n  font-size: 18;\n  padding: 5px;\n  border-top: 5px solid white;\n  font-weight: bold;\n  text-align: center;\n"]);return w=function(){return e},e}function k(){var e=Object(j.a)(["\n  font-size: 48pt;\n  font-family: Impact, sans-serif;\n"]);return k=function(){return e},e}function S(){var e=Object(j.a)(["\n  padding: 10px;\n"]);return S=function(){return e},e}function C(){var e=Object(j.a)(["\n  padding: 10px;\n  text-align: center;\n  font-size: 24pt;\n  border-bottom: 5px solid white;\n  margin: 0;\n  font-weight: bold;\n"]);return C=function(){return e},e}function z(){var e=Object(j.a)(["\n  flex: 1;\n  text-align: center;\n"]);return z=function(){return e},e}function T(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: row;\n"]);return T=function(){return e},e}function M(){var e=Object(j.a)(["\n  margin: 6px;\n  border: 5px solid white;\n  border-radius: 10px;\n  flex-direction: row;\n"]);return M=function(){return e},e}function I(){var e=Object(j.a)(["\n  margin-top: 2px;\n  background-color: #444;\n  color: white;\n  display: flex;\n  flex-direction: column;\n  font-family: Futura;\n  min-width: 400px;\n  max-width: 400px;\n  width: 400px;\n"]);return I=function(){return e},e}v.a.div(I()),v.a.div(M()),v.a.div(T()),v.a.div(z()),v.a.div(C()),v.a.div(S()),v.a.div(k()),v.a.div(w());var N=function(e,t){return e.score?{score:t>0?"".concat(e.score,"/").concat(t):e.score,percentage:t>0?(e.score/t*100).toFixed():null}:null},P=(n(166),n(16)),L=function(e,t){return e.map((function(e){return{x:e,r:Math.random()}})).sort((function(e,t){return e.r-t.r})).map((function(e){return e.x})).slice(0,t||e.length)},D=function(e){return Object.keys(e).reduce((function(t,n){return Object(x.a)(Object(x.a)({},t),{},Object(m.a)({},n,!(r=e[n])||"true"!==r&&"false"!==r?r:"true"===r.toLowerCase()));var r}),{})},A=function(e){return Object.keys(e||{}).filter((function(t){return e[t]})).reduce((function(t,n){return Object(x.a)(Object(x.a)({},t),{},Object(m.a)({},n,e[n]))}),{})},R=function(e){return e.reduce((function(e,t){return Object(P.a)(new Set([].concat(Object(P.a)(e),Object(P.a)(t.groups||[]))))}),[])},B=function(e,t){return e.filter((function(e){return e.groups&&e.groups.includes(t)}))},F=function(){var e=Object(O.a)(p.a.mark((function e(){var t,n,r,i,a,o,c,s,l,u=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{},n=t.path,r=void 0===n?"./data/game-data.json":n,i=t.snippetId,o=(a=void 0===i?null:i)?"https://gitlab-int.ctc.com/api/v4/snippets/".concat(a,"/raw"):r,e.next=4,fetch(o);case 4:return c=e.sent,e.next=7,c.json();case 7:return s=e.sent,l=s.map(D),e.abrupt("return",{practiceOptions:R(l).reduce((function(e,t){return Object(x.a)(Object(x.a)({},e),{},Object(m.a)({},t,B(l,t)))}),{}),gameOptions:L(l,12)});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(O.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{"bird_image_1.png":{match:{easy:["match_game_cifar_robust_images_bird_threshold_512.png","match_game_cifar_robust_images_bird_0.png","match_game_cifar_robust_images_bird_1.png","match_game_cifar_robust_images_bird_2.png","match_game_cifar_robust_images_bird_3.png"],hard:["match_game_cifar_diluted_robust_images_bird_threshold_512.png","match_game_cifar_diluted_robust_images_bird_0.png","match_game_cifar_diluted_robust_images_bird_1.png","match_game_cifar_diluted_robust_images_bird_2.png","match_game_cifar_diluted_robust_images_bird_3.png"]}},"cat_image_18.png":{match:{easy:["match_game_cifar_robust_images_cat_threshold_512.png","match_game_cifar_robust_images_cat_0.png","match_game_cifar_robust_images_cat_1.png","match_game_cifar_robust_images_cat_2.png","match_game_cifar_robust_images_cat_3.png"],hard:["match_game_cifar_diluted_robust_images_cat_threshold_512.png","match_game_cifar_diluted_robust_images_cat_0.png","match_game_cifar_diluted_robust_images_cat_1.png","match_game_cifar_diluted_robust_images_cat_2.png","match_game_cifar_diluted_robust_images_cat_3.png"]}},"deer_image_13.png":{match:{easy:["match_game_cifar_robust_images_deer_threshold_512.png"],hard:["match_game_cifar_diluted_robust_images_deer_threshold_512.png"]}},"dog_image_16.png":{match:{easy:["match_game_cifar_robust_images_dog_threshold_512.png"],hard:["match_game_cifar_diluted_robust_images_dog_threshold_512.png"]}},"horse_image_16.png":{match:{easy:["match_game_cifar_robust_images_horse_threshold_512.png"],hard:["match_game_cifar_diluted_robust_images_horse_threshold_512-2.png"]}},"boat_image_10.png":{match:{easy:["match_game_cifar_robust_images_boat_threshold_512.png"],hard:["match_game_cifar_diluted_robust_images_boat_threshold_512.png"]}},"car_image_1.png":{match:{easy:["match_game_cifar_robust_images_car_threshold_512.png","match_game_cifar_robust_images_car_0.png","match_game_cifar_robust_images_car_1.png","match_game_cifar_robust_images_car_2.png","match_game_cifar_robust_images_car_3.png"],hard:["match_game_cifar_diluted_robust_images_car_threshold_512.png","match_game_cifar_diluted_robust_images_car_0.png","match_game_cifar_diluted_robust_images_car_1.png","match_game_cifar_diluted_robust_images_car_2.png","match_game_cifar_diluted_robust_images_car_3.png"]}},"plane_image_1.png":{match:{easy:["match_game_cifar_robust_images_plane_0.png","match_game_cifar_robust_images_plane_1.png","match_game_cifar_robust_images_plane_2.png","match_game_cifar_robust_images_plane_3.png"],hard:["match_game_cifar_diluted_robust_images_plane_0.png","match_game_cifar_diluted_robust_images_plane_1.png","match_game_cifar_diluted_robust_images_plane_2.png","match_game_cifar_diluted_robust_images_plane_3.png"]}},"frog_image_1.png":{match:{easy:["match_game_cifar_robust_images_frog_1.png","match_game_cifar_robust_images_frog_1.png","match_game_cifar_robust_images_frog_2.png","match_game_cifar_robust_images_frog_3.png"],hard:["match_game_cifar_diluted_robust_images_frog_0.png","match_game_cifar_diluted_robust_images_frog_1.png","match_game_cifar_diluted_robust_images_frog_2.png","match_game_cifar_diluted_robust_images_frog_3.png"]}},"horse_image_1.png":{match:{learn:["horse_image_16.png","horse_image_1.png"],easy:["match_game_cifar_robust_images_horse_threshold_512.png","match_game_cifar_robust_images_horse_0.png","match_game_cifar_robust_images_horse_1.png","match_game_cifar_robust_images_horse_2.png","match_game_cifar_robust_images_horse_3.png"],hard:["match_game_cifar_diluted_robust_images_horse_threshold_512.png","match_game_cifar_diluted_robust_images_horse_0.png","match_game_cifar_diluted_robust_images_horse_1.png","match_game_cifar_diluted_robust_images_horse_2.png","match_game_cifar_diluted_robust_images_horse_3.png"]}},"truck_image_1.png":{match:{easy:["match_game_cifar_robust_images_truck_0.png","match_game_cifar_robust_images_truck_1.png","match_game_cifar_robust_images_truck_2.png","match_game_cifar_robust_images_truck_3.png"],hard:["match_game_cifar_diluted_robust_images_truck_0.png","match_game_cifar_diluted_robust_images_truck_1.png","match_game_cifar_diluted_robust_images_truck_2.png","match_game_cifar_diluted_robust_images_truck_3.png"]}}});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(e){return null!==e&&void 0!==e},V=n(309),q=n(153),G=n(38),H=function(e){return Object.keys(e).filter((function(t){return null!=e[t]})).reduce((function(t,n){return Object(x.a)(Object(x.a)({},t),{},Object(m.a)({},n,e[n]))}),{})},Y=function(e,t){var n=e();Object.keys(t).forEach((function(e){return n.style[e]=t[e]}))},X=function(e){return null!==e&&void 0!==e},U=function(e){return Object(P.a)(e).reduceRight((function(e,t,n,r){return e.push(r.splice(0|Math.random()*r.length,1)[0]),e}),[])},J=(console.log.bind(console),function(){var e=Object(O.a)(p.a.mark((function e(t,n){var r,i,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=function(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))},i=Object(G.a)(t),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=11;break}return(0,a.value)(),e.next=9,r(n||0);case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),i.e(e.t0);case 16:return e.prev=16,i.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})));return function(t,n){return e.apply(this,arguments)}}());function Z(){var e=Object(j.a)(["\n  display: inline-block;\n  border-radius: 50%;\n  border: 3px solid cornflowerblue;\n  color: cornflowerblue;\n  height: 100%;\n  width: auto;\n  cursor: help;\n  margin: 10px;\n  padding: 0 0.45em;\n  font-size: 0.5em;\n  outline: none;\n"]);return Z=function(){return e},e}function Q(){var e=Object(j.a)(["\n  background-color: antiquewhite;\n  margin: -3px -16px;\n  padding: 5px;\n  border-radius: 2px;\n  text-shadow: none;\n  color: black;\n"]);return Q=function(){return e},e}var K=v.a.div(Q()),$=function(e){var t=e.children;return Object(r.jsx)(K,{children:t})},ee=v.a.button(Z()),te=function(e){var t=e.children,n=e.triggerText,i=void 0===n?"i":n,a=e.triggerStyle,o="".concat("tooltip").concat(Date.now()).concat(Math.floor(100*Math.random()));return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(q.a,{id:o,getContent:function(){return Object(r.jsx)($,{children:t})},effect:"solid",place:"bottom"}),Object(r.jsx)(ee,{"data-for":o,"data-tip":!0,style:a,children:i})]})};function ne(){var e=Object(j.a)(["\n  display: inline-block;\n  animation: "," 0.1s linear;\n"]);return ne=function(){return e},e}function re(){var e=Object(j.a)(["\n  from { opacity: 0; }\n  to { opacity: 1; }\n"]);return re=function(){return e},e}function ie(){var e=Object(j.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 3rem;\n  text-shadow: 2px 2px 2px slategray;\n  text-align: center;\n"]);return ie=function(){return e},e}function ae(){var e=Object(j.a)(["\n  height: 18px;\n  width: 18px;\n  color: white;\n  background-color: #999;\n  border: 1px solid #555;\n  font-size: 0.7rem;\n  text-align: center;\n  line-height: 1.7;\n  outline: none;\n  border-radius: 4px;\n"]);return ae=function(){return e},e}function oe(){var e=Object(j.a)(["\n  height: 6px;\n  width: 100%;\n  background-color: #ccc;\n  border-radius: 3px;\n"]);return oe=function(){return e},e}function ce(){var e=Object(j.a)(["\n  ","\n  font-size: 0.9rem;\n  text-align: center;\n"]);return ce=function(){return e},e}function se(){var e=Object(j.a)(["\n  margin: 10px 10px 0 10px;\n  outline: none;\n"]);return se=function(){return e},e}function le(){var e=Object(j.a)(["\n  background-color: white;\n"]);return le=function(){return e},e}function ue(){var e=Object(j.a)(["\n  border: 1px solid lightgray;\n  text-transform: uppercase;\n  font-family: Futura, sans-serif;\n  font-size: 1.4rem;\n  padding: 5px;\n  border-bottom: 7px solid grey;\n  color: darkslategray;\n  border-radius: 10px 10px 2px 2px;\n  outline: none;\n  cursor: pointer;\n  &:disabled {\n    cursor: default;\n    color: lightgray;\n  }\n  &:hover:enabled {\n    text-shadow: 1px 1px 1px #aaa;\n  }\n"]);return ue=function(){return e},e}function de(){var e=Object(j.a)(["\n  background: ",";\n  padding: 5px;\n  color: ",";\n  outline: none;\n  border: none;\n  border-radius: ",";\n  transition: text-shadow 0.25s ease;\n  &:hover {\n    cursor: pointer;\n    text-shadow: ",";\n  }\n"]);return de=function(){return e},e}function be(){var e=Object(j.a)(["\n  position: relative;\n  background-color: lightgray;\n  padding: 5px;\n  border-radius: 4px;\n"]);return be=function(){return e},e}function he(){var e=Object(j.a)(["\n  display: flex;\n  justify-content: space-around;\n  flex-direction: row;\n  width: 100%;\n"]);return he=function(){return e},e}function fe(){var e=Object(j.a)(["\n  display: flex;\n  justify-content: space-around;\n  flex-direction: column;\n  height: 100%;\n"]);return fe=function(){return e},e}var je=v.a.div(fe()),ge=v.a.div(he()),pe=function(e){var t=e.children;return Object(r.jsx)(je,{children:Object(r.jsx)(ge,{children:t})})},me=v.a.div(be()),xe=v.a.button(de(),(function(e){var t=e.checked,n=e.backgroundColor;return t?n:"gray"}),(function(e){var t=e.checked,n=e.color;return t?n:"#444"}),(function(e){return e.left?"4px 0 0 4px":"0 4px 4px 0"}),(function(e){return e.checked?"1px 1px 1px black;":"1px 1px 1px lightgray;"})),Oe=function(e){var t=e.trueLabel,n=void 0===t?"YES":t,i=e.falseLabel,a=void 0===i?"NO":i,o=e.trueBgColor,c=e.falseBgColor,s=e.onToggle,l=e.defaultValue;return Object(r.jsxs)(me,{children:[Object(r.jsx)(xe,{checked:W(l)&&l,backgroundColor:o,onClick:function(){return s(!0)},left:!0,children:n}),Object(r.jsx)(xe,{checked:W(l)&&!l,backgroundColor:c,onClick:function(){return s(!1)},right:!0,children:a})]})},ve=v.a.button(ue()),ye=function(e){var t=e.className,n=e.style,i=e.label,a=e.symbol,o=Array.isArray(a)?a:[a];return Object(r.jsx)("span",{className:t,style:n,role:"img","aria-label":i,children:o.map((function(e){return String.fromCodePoint(e)}))})},_e=v.a.div(le()),we=v.a.div(se()),ke=v.a.div(ce(),(function(e){var t=e.position;return"top"===(void 0===t?"top":t)?"margin-bottom: 10px;":"margin-top: 10px;"})),Se=v.a.div(oe()),Ce=v.a.div(ae()),ze=function(e){var t=e.value,n=e.min,i=e.max,a=e.onChange,o=e.style,c=e.step,l=void 0===c?1:c,u=e.label,d=void 0===u?null:u,b=e.labelPosition,h=void 0===b?"top":b,f=e.handleStyle,j=d?Object(r.jsx)(ke,{position:h,children:d}):null;return Object(r.jsxs)(we,{style:o,children:[j&&"top"===h?j:null,Object(r.jsx)(V.Range,{step:l,min:n,max:i,values:[t],onChange:function(e){var n=Object(s.a)(e,1)[0];n!==t&&a(n)},renderTrack:function(e){var t=e.props,n=e.children;return Object(r.jsx)(Se,Object(x.a)(Object(x.a)({},t),{},{children:n}))},renderThumb:function(e){var n=e.props;return Object(r.jsx)(Ce,Object(x.a)(Object(x.a)({},n),{},{style:f,children:t}))}}),j&&"bottom"===h?Object(r.jsx)("div",{style:{marginTop:10},children:j}):Object(r.jsx)("div",{style:{height:7}})]})},Te=v.a.div(ie()),Me=function(e){var t=e.children,n=e.information,i=e.style;return Object(r.jsxs)(Te,{style:i,children:[t,n?Object(r.jsx)(te,{children:n}):null]})},Ie=Object(v.b)(re()),Ne=v.a.div(ne(),Ie),Pe=function(e){var t=e.width,n=void 0===t?75:t,i=e.height,a=void 0===i?100:i,o=e.strokeWidth,c=void 0===o?8:o,s=e.color,l={stroke:void 0===s?"red":s,fill:"none",strokeWidth:c,rx:1,strokeLinecap:"round"},u=2.5*c;return Object(r.jsx)(Ne,{style:{width:n,height:a},children:Object(r.jsxs)("svg",{viewBox:"0 0 ".concat(n," ").concat(a),children:[Object(r.jsx)("rect",{style:l,x:c,y:c,width:n-2*c,height:a-2*c}),Object(r.jsx)("line",{x1:u,y1:u,x2:n-u,y2:a-u,style:l}),Object(r.jsx)("line",{x1:n-u,y1:u,x2:u,y2:a-u,style:l})]})})},Le=function(e){var t=e.width,n=void 0===t?50:t,i=e.height,a=void 0===i?50:i,o=e.strokeWidth,c=void 0===o?6:o,s=e.color,l={stroke:void 0===s?"green":s,fill:"none",strokeWidth:c,strokeLinejoin:"round"},u=["".concat(.3*n,",").concat(.5*a),"".concat(.45*n,",").concat(.65*a),"".concat(.7*n,",").concat(.32*a)];return Object(r.jsx)(Ne,{style:{width:n,height:a},children:Object(r.jsxs)("svg",{viewBox:"0 0 ".concat(n," ").concat(a),children:[Object(r.jsx)("circle",{style:l,cx:n/2,cy:a/2,r:n/2-5}),Object(r.jsx)("polyline",{style:l,points:u.join(" ")})]})})};function De(){var e=Object(j.a)(["\n  min-width: ","px;\n  max-width: ","px;\n"]);return De=function(){return e},e}function Ae(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: row;\n"]);return Ae=function(){return e},e}function Re(){var e=Object(j.a)(["\n  color: white;\n  font-weight: bold;\n  background-color: black;\n  border-radius: 3px;\n  font-size: 1.2rem;\n  padding: 10px;\n"]);return Re=function(){return e},e}function Be(){var e=Object(j.a)(["\n  width: 150px;\n  margin: 0 15px;\n  min-height: 50px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n"]);return Be=function(){return e},e}function Fe(){var e=Object(j.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 0 2px;\n  padding: 15px;\n  border: 1px solid lightgray;\n  background-color: white;\n  border-bottom-left-radius: 15px;\n  border-bottom-right-radius: 15px;\n"]);return Fe=function(){return e},e}function Ee(){var e=Object(j.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n  height: 100%;\n"]);return Ee=function(){return e},e}function We(){var e=Object(j.a)(["\n  color: red;\n  font-weight: bold;\n  text-align: right;\n  position: absolute;\n  top: 0;\n  right: 0;\n  background-color: ",";\n  width: 100%;\n  height: 100%;\n"]);return We=function(){return e},e}var Ve={height:32,width:32},qe={width:710},Ge=function(){var e=Object(O.a)(p.a.mark((function e(t){var n,r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={easy:{path:"./data/game-data.json"},hard:{path:"./data/game-data-20q-hard.json"}}[t||"easy"],e.next=4,F(n);case 4:return r=e.sent,i=r.gameOptions.reduce((function(e,t,n){return Object(x.a)(Object(x.a)({},e),{},Object(m.a)({},n,t))}),{}),e.abrupt("return",{gameData:r,images:i,correctAnswers:Object.keys(i).filter((function(e){return i[e].correct})).map((function(e){return parseInt(e)}))});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),He={padding:"5px",fontSize:"75%",color:"white",background:"rgba(0,0,0,0.5)"},Ye=function(e,t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return[]},i={src:"img/".concat(e.path),thumbnail:"img/".concat(e.path),thumbnailWidth:Ve.width,thumbnailHeight:Ve.height,index:t,correct:e.correct,customOverlay:Object(r.jsx)(Ze,{index:t})};return i.tags=n(i)||[],A(i)}(e,t,(function(t){return[{value:"".concat(e.label),title:"COMPY Says: ".concat(e.label)}]}))},Xe=function(e){return e&&e.players&&e.players.length?e.players[0]:null},Ue=v.a.div(We(),(function(e){return e.correct?"rgba(75, 75, 75, 0.8)":"rgba(75, 75, 75, 0.0)"})),Je=v.a.div(Ee()),Ze=function(e){var t=e.index,n=Object(i.useContext)(l),a=Object(s.a)(n,1)[0],o=Xe(a),c=W(o.score),u=o.selections.includes(t)&&a.images[t].correct||!o.selections.includes(t)&&!a.images[t].correct;return Object(r.jsx)(Ue,{correct:W(o.score)&&!a.images[t].correct,children:Object(r.jsx)(Je,{children:c?u?Object(r.jsx)(Le,{}):Object(r.jsx)(Pe,{}):null})})},Qe=function(e){var t=e.settings.noise,n=e.gameMode,a=Object(i.useContext)(l),o=Object(s.a)(a,2),c=o[0],u=o[1];Object(i.useEffect)((function(){Ke(n,c,u)}),[]),Object(i.useEffect)((function(){if(c.originalImages){var e="noise".concat(t);u(Object(x.a)(Object(x.a)({},c),{},{images:c.originalImages.map((function(t){return function(e,t){return"variants"in e&&t in e.variants}(t,e)?t.variants[e]:t})).map((function(e,t){return Object(x.a)(Object(x.a)({},c.images[t]),Ye(e,t))}))}))}}),[t]);var d=function(e){var t=Object(x.a)({},c),n=Xe(t);if(!n.score){var r=t.images[e];r.hasOwnProperty("isSelected")?r.isSelected=!r.isSelected:r.isSelected=!0,n.selections=t.images.map((function(e,t){return Object(x.a)(Object(x.a)({},e),{},{index:t})})).filter((function(e){return e.isSelected})).map((function(e){return e.index})),u(t)}},b=Xe(c);return Object(r.jsx)("div",{style:{height:550},children:Object(r.jsx)(_.a,{images:c.images,enableImageSelection:!b.score,onSelectImage:d,onClickThumbnail:d,tagStyle:He,showLightboxThumbnails:!0,enableLightbox:!1})})},Ke=function(){var e=Object(O.a)(p.a.mark((function e(t,n,r){var i,a,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(x.a)({},n),e.next=3,Ge(t);case 3:a=e.sent,i.currentGameData=a,i.originalImages=Object.keys(a.images).map((function(e){return a.images[e]})),i.images=i.originalImages.map(Ye),(o=Xe(i)).score=null,o.selections=[],r(i);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),$e=v.a.div(Fe()),et=v.a.div(Be()),tt=v.a.div(Re()),nt=function(e){var t=e.gameMode,n=e.onSettingsUpdated,a=void 0===n?function(){return null}:n,o=Object(i.useContext)(l),c=Object(s.a)(o,2),u=c[0],d=c[1],b=Object(i.useState)(0),h=Object(s.a)(b,2),f=h[0],j=h[1],g=Object(i.useState)(),p=Object(s.a)(g,2),m=p[0],O=p[1],v=Object(i.useState)(!1),y=Object(s.a)(v,2),_=y[0],w=y[1],k=u.players[0].selections.length;return Object(r.jsxs)($e,{children:[Object(r.jsx)(et,{children:"hard"===t?Object(r.jsx)(ze,{label:"Add Noise",labelPosition:"bottom",min:0,max:6,step:1,value:f,onChange:function(e){j(e),a({noise:e})},style:{width:"100%"}}):null}),_?Object(r.jsx)(ve,{onClick:function(){Ke(t,u,d),O(null),w(!1)},children:"Play Again!"}):Object(r.jsx)(ve,{onClick:function(){var e=Object(x.a)({},u),t=Xe(e);t.score=function(e,t){var n=t||[],r=n.filter((function(t){return!e.correctAnswers.includes(t)})),i=e.correctAnswers.filter((function(e){return!n.includes(e)}));return Object.keys(e.images).length-r.length-i.length}(u.currentGameData,t.selections),O(N(t,12)),d(e),w(!0)},disabled:0===k,children:"Submit Answers"}),Object(r.jsx)(et,{children:m?Object(r.jsxs)(tt,{children:[m.score," (",m.percentage,"%)"]}):null})]})},rt=v.a.div(Ae()),it=v.a.div(De(),qe.width,qe.width),at=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("p",{children:"COMPY has seen a lot of deer images before, and he is really good at identifying a deer when he sees one."}),Object(r.jsx)("p",{children:"Can you tell which of the following deer images COMPY may have seen? There is at least one."}),Object(r.jsx)("p",{children:'Select them and then hit the "Submit Answers" button (below).'}),Object(r.jsx)("p",{children:"If you were to guess randomly, you would expect to get half correct."})]})},ot=function(e){var t=e.gameMode,n=Object(i.useState)(0),a=Object(s.a)(n,2),o=a[0],c=a[1];return Object(r.jsx)(pe,{children:Object(r.jsx)(rt,{children:Object(r.jsxs)(it,{children:[Object(r.jsx)(Me,{information:Object(r.jsx)(at,{}),style:{marginBottom:10},children:"20 Questions"}),Object(r.jsx)(Qe,{settings:o,gameMode:t}),Object(r.jsx)(nt,{gameMode:t,onSettingsUpdated:function(e){return c(e)}})]})})})},ct=function(){var e=Object(i.useState)({width:void 0,height:void 0}),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(i.useEffect)((function(){function e(){r({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n},st=n(611),lt=n(612),ut=n(603),dt=n(328),bt=n(102),ht=n.n(bt);function ft(){var e=Object(j.a)(["\n  height: 50px;\n  border: 3px solid #111;\n  border-radius: 25px;\n  font-size: 1.5rem;\n  padding: 0 20px;\n  font-family: Futura;\n  background-color: ",";\n  color: white;\n  cursor: pointer;\n  outline: none;\n  position: relative;\n  z-index: 9999;\n"]);return ft=function(){return e},e}function jt(){var e=Object(j.a)(["\n  margin-top: 10px;\n  text-align: center;\n"]);return jt=function(){return e},e}function gt(){var e=Object(j.a)(["\n  width: 500px;\n"]);return gt=function(){return e},e}function pt(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  background-color: steelblue;\n  padding: 25px;\n  border-radius: 10px;\n  border: 1px solid gray;\n  margin: 20px 0;\n"]);return pt=function(){return e},e}function mt(){var e=Object(j.a)(["\n  background-color: #ddd;\n  border: 1px dashed black;\n"]);return mt=function(){return e},e}function xt(){var e=Object(j.a)(["\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n"]);return xt=function(){return e},e}function Ot(){var e=Object(j.a)(["\n  border-color: black;\n"]);return Ot=function(){return e},e}function vt(){var e=Object(j.a)(["\n  height: ","px;\n  width: ","px;\n  border: 1px solid slategray;\n  border-radius: 5px;\n  background-image: ",";\n  background-size: cover;\n"]);return vt=function(){return e},e}var yt={height:100,width:100},_t=v.a.div(vt(),yt.height,yt.width,(function(e){var t=e.src;return"url(".concat(t,")")})),wt=Object(v.a)(_t)(Ot()),kt=function(e){var t=e.index,n=e.image,i=(e.attempt,e.correctTarget),a=e.disabled,o=e.onGuess,c=void 0===o?function(){return null}:o,l="draggable".concat(t),u=Object(st.a)((function(){return{type:"draggable",item:{name:n},end:function(e,t){var n=t.getDropResult();e&&n&&c(l,{guess:i===n.name,source:{id:l,img:e.name},target:{id:n.name,img:n.name}})},collect:function(e){return{isDragging:e.isDragging()}}}})),d=Object(s.a)(u,2),b=d[0].isDragging,h=d[1],f=b?.4:1;return Object(r.jsx)(wt,{id:l,role:"draggable",src:"match-img/".concat(n),alt:n,ref:a?null:h,style:{opacity:f}})},St=v.a.div(xt()),Ct=Object(v.a)(_t)(mt()),zt=function(e){var t=e.id,n=e.image,i=e.matches,a=Object(lt.a)((function(){return{accept:"draggable",drop:function(){return{name:t}},collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}}}})),o=Object(s.a)(a,2),c=o[0],l=c.canDrop,u=c.isOver,d=o[1],b=l&&u,h=(Object.values(i).find((function(e){return e.to.id===t}))||{from:null}).from,f=h?null:b?"#aaa":l?"#ddd":"white";return Object(r.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(r.jsx)(Ct,{id:t,ref:d,style:{backgroundColor:f,backgroundImage:h?"url(match-img/".concat(h.img,")"):null}}),Object(r.jsx)(_t,{src:"match-img/".concat(n),alt:n,style:{marginLeft:10}})]})},Tt=v.a.div(pt()),Mt=function(e,t){return"".concat(e,"_").concat(t)},It=v.a.div(gt()),Nt=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("p",{children:"On the left are image represenations for class labels of a data set"}),Object(r.jsx)("p",{children:"used to train a machine learning model."}),Object(r.jsx)("p",{children:"Drag each class prototype image on the left to their match on the right."}),Object(r.jsx)("p",{children:Object(r.jsx)("b",{children:" You have three strikes before you are out! "})}),Object(r.jsx)("p",{})]})},Pt={learn:{title:"Learn to Match",matchCount:3},easy:{title:"Easy Match Game",matchCount:5},hard:{title:"Hard Match Game",matchCount:3,targetCount:6}},Lt=v.a.div(jt()),Dt=function(e){var t=e.guesses;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{style:{textAlign:"center",height:100,marginTop:5},children:new Array(t.incorrect).fill().map((function(e,t){return Object(r.jsx)(Pe,{},"incorrect-x-".concat(t))}))})})},At=v.a.button(ft(),(function(e){return e.won?"green":"slategray"})),Rt=function(e){var t=e.guesses,n=e.onGameOver,a=e.onRetry,o=Object(i.useState)(!1),c=Object(s.a)(o,2),l=c[0],u=c[1],d=Object(i.useState)(null),b=Object(s.a)(d,2),h=b[0],f=b[1];return Object(i.useEffect)((function(){var e=t.total>0&&Object.keys(t.correct).filter((function(e){return t.correct[e]})).length===t.total;u(e);var r=t.incorrect>=t.maxStrikes?"Try again?":e?"You won! Play again?":null;f(r),r&&n()}),[t,n]),h?Object(r.jsx)(Lt,{children:Object(r.jsx)(At,{onClick:a,won:l,children:h})}):null},Bt=function(e){var t=e.model,n=e.gameMode,a=e.onRetry,o=e.maxStrikes,c=void 0===o?3:o;ct();var l=Object(i.useState)(!1),u=Object(s.a)(l,2),d=u[0],b=u[1],h=Object(i.useMemo)((function(){return(t||{}).images||{}}),[t]),f=Object(i.useMemo)((function(){return Object.values(h).filter((function(e){return e}))}),[h]),j=Object(i.useMemo)((function(){return U(Object.keys(h))}),[h]),g=Object(i.useState)({}),p=Object(s.a)(g,2),O=p[0],v=p[1],y=Object(i.useCallback)((function(){return{maxStrikes:c,total:f.length,correct:{},incorrect:0}}),[f,c]);Object(i.useEffect)((function(){b(!1),S(y())}),[t,y]);var _=Object(i.useState)(y()),w=Object(s.a)(_,2),k=w[0],S=w[1],C=function(e,t){var n=t.guess,r=t.source,i=t.target;v((function(t){return Object(x.a)(Object(x.a)({},t),{},Object(m.a)({},e,{from:r,to:i,color:n?"green":"red"}))})),S((function(t){return Object(x.a)(Object(x.a)({},t),{},{correct:!0===n?Object(x.a)(Object(x.a)({},t.correct),{},Object(m.a)({},e,n)):null===n?Object(x.a)(Object(x.a)({},t.correct),{},Object(m.a)({},e,!1)):t.correct,incorrect:!1===n?Math.min(t.incorrect+1,t.total):t.incorrect})}))};return Object(r.jsxs)(St,{children:[Object(r.jsx)(Tt,{children:f.map((function(e,n){return Object(r.jsx)(kt,{index:n,image:e,attempt:t.attempt,disabled:d,targetIds:j,correctTarget:(i=e,Object.keys(t.images).find((function(e){return t.images[e]===i}))),onGuess:C},Mt(e,n));var i}))}),Object(r.jsxs)(It,{children:[Object(r.jsx)(Dt,{guesses:k}),Object(r.jsx)(Me,{information:Object(r.jsx)(Nt,{}),children:Pt[n].title||"Match Game"}),Object(r.jsx)(Rt,{guesses:k,onRetry:function(){S(y()),v({}),a()},onGameOver:function(){return b((function(e){return!0}))}})]}),Object(r.jsx)(Tt,{children:j.map((function(e,t){return Object(r.jsx)(zt,{id:e,image:e,matches:O},Mt(e,t))}))},(new Date).getTime()),Object.values(O).map((function(e){return Object(r.jsx)(ht.a,{start:"".concat(e.from.id),end:"".concat(e.to.id),color:e.color,path:"straight",animateDrawing:"200ms"},"line-".concat(e.from.id,"-").concat(e.to.id))}))]})},Ft=function(e){var t=e.gameMode,n=void 0===t?"easy":t,a=e.matchCount,o=void 0===a?Pt[n].matchCount:a,c=e.targetCount,l=void 0===c?Pt[n].targetCount||Pt[n].matchCount:c,u=Object(i.useState)(0),d=Object(s.a)(u,2),b=d[0],h=d[1],f=Object(i.useState)({}),j=Object(s.a)(f,2),g=j[0],v=j[1],y=Object(i.useState)({}),_=Object(s.a)(y,2),w=_[0],k=_[1],S=Object(i.useCallback)((function(){var e=U(Object.keys(w)).slice(0,l);return e.reduce((function(e,t,r){return Object(x.a)(Object(x.a)({},e),{},{images:Object(x.a)(Object(x.a)({},e.images),{},Object(m.a)({},t,r<o?(i=t,w[i].match[n]?w[i].match[n].length?U(w[i].match[n]).slice(0,1)[0]:null:i):null))});var i}),{attempt:b})}),[w,o,b,n,l]);if(Object(i.useEffect)((function(){(function(){var e=Object(O.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:t=e.sent,k(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(i.useEffect)((function(){v(S())}),[b,S]),o>l)return Object(r.jsx)("div",{children:"targetCount must be more than matchCount"});return Object(r.jsx)(ut.a,{backend:dt.a,children:Object(r.jsx)(Bt,{model:g,gameMode:n,onRetry:function(){return h((function(e){return e+1}))},sourceCount:o,targetCount:o})})},Et=n(83),Wt=n(313),Vt=n(312),qt=n(327);function Gt(){var e=Object(j.a)(["\n  position: relative;\n"]);return Gt=function(){return e},e}function Ht(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: row;\n"]);return Ht=function(){return e},e}function Yt(){var e=Object(j.a)(["\n  border-radius: 5px;\n  display: inline-block;\n  padding-left: 4px;\n  padding-right: 4px;\n  color: ",";\n  background-color: ",";\n  border: 1px solid lightgray;\n  border-color: ",";\n  transition: background-color 1s ease;\n  font-style: italic;\n"]);return Yt=function(){return e},e}function Xt(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  position: absolute;\n  pointer-events: none;\n  width: 100%;\n  bottom: 0px;\n  z-index: 1;\n"]);return Xt=function(){return e},e}function Ut(){var e=Object(j.a)(["\n  border: 0;\n  outline: none;\n  background: none;\n  font-size: 1.2rem;\n  color: ",";\n  flex: 1;\n  font-family: Futura;\n  transition: text-shadow 0.25s ease;\n  &:hover {\n    cursor: pointer;\n    text-shadow: 1px 1px 1px black;\n  }\n"]);return Ut=function(){return e},e}function Jt(){var e=Object(j.a)(["\n  position: absolute;\n  right: 0;\n  z-index: 5;\n  background-color: slategray;\n  color: white;\n  padding: 8px;\n  border-bottom-left-radius: 8px;\n  font-size: 1.2rem;\n  height: 35px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n"]);return Jt=function(){return e},e}function Zt(){var e=Object(j.a)(["\n  position: absolute;\n  z-index: 5;\n  background-color: slategray;\n  color: white;\n  padding: 8px;\n  height: 35px;\n  border-bottom-right-radius: 8px;\n  border-top-left-radius: 15px;\n  font-size: 1.4rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n"]);return Zt=function(){return e},e}function Qt(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: stretch;\n"]);return Qt=function(){return e},e}function Kt(){var e=Object(j.a)(["\n  left: 0px;\n"]);return Kt=function(){return e},e}function $t(){var e=Object(j.a)(["\n  right: 0px;\n"]);return $t=function(){return e},e}function en(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  background-color: slategray;\n  padding: 10px;\n  color: white;\n  border-radius: 15px;\n  width: 75%;\n  text-align: center;\n"]);return en=function(){return e},e}function tn(){var e=Object(j.a)(["\n  position: absolute;\n  z-index: 2;\n  top: 130px;\n  width: 180px;\n  height: 295px;\n"]);return tn=function(){return e},e}function nn(){var e=Object(j.a)(["\n  font-size: 0.9rem;\n"]);return nn=function(){return e},e}function rn(){var e=Object(j.a)(["\n  padding-top: 5px;\n  padding-bottom: 0;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n"]);return rn=function(){return e},e}function an(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  background-color: slategray;\n  color: white;\n  padding: 10px;\n  border-radius: 10px;\n  height: 60px;\n  margin-bottom: 45px;\n  pointer-events: all;\n  &:first-child {\n    margin-left: 15px;\n  }\n  &:last-child {\n    margin-right: 15px;\n  }\n"]);return an=function(){return e},e}function on(){var e=Object(j.a)(["\n  margin: 10px;\n"]);return on=function(){return e},e}function cn(){var e=Object(j.a)(["\n  border-bottom: 2px solid darkgray;\n  font-size: 1.9rem;\n  font-weight: 500;\n  text-align: center;\n  padding-bottom: 12px;\n  margin: 10px 0;\n  text-shadow: 2px 2px 2px slategray;\n"]);return cn=function(){return e},e}function sn(){var e=Object(j.a)(["\n  border-top: 1px solid slategray;\n  border-bottom: 1px solid slategray;\n  border-right: 1px solid slategray;\n  border-top-right-radius: 15px;\n  padding: 10px;\n  border-bottom-right-radius: 15px;\n  min-width: 350px;\n  max-width: 350px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n"]);return sn=function(){return e},e}function ln(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  button {\n    margin-top: 5px;\n  }\n"]);return ln=function(){return e},e}function un(){var e=Object(j.a)(["\n  color: ",';\n  &:before {\n    content: "','";\n  }\n']);return un=function(){return e},e}function dn(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 10px 0 10px 10px;\n  border-top: 1px solid lightgray;\n  background-color: ",";\n  transition: background-color 1s ease;\n"]);return dn=function(){return e},e}var bn={width:661,height:600},hn={width:300,height:300},fn="COMPY",jn="#4caf50",gn="#dc004d",pn=function(){var e=Object(O.a)(p.a.mark((function e(t,n,r,i){var a,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=Object(x.a)({},t)).version=W(a.version)?a.version+1:1,a.practiceRoundNumber=i?3:1===a.practiceRoundNumber?2:1,console.log("Practice reset to Round ".concat(a.practiceRoundNumber)),e.next=6,mn(a.practiceRoundNumber);case 6:o=e.sent,a.practiceRound&&Object.keys(a.practiceRound).length&&a.previousPracticeRounds.push(Object(x.a)({},a.practiceRound)),a.currentGameData=o,r(0),a.practiceRound=o.scrollingImages.reduce((function(e,t,n){return Object(x.a)(Object(x.a)({},e),{},Object(m.a)({},t.path,Object(x.a)({},t)))}),{}),n(a);case 12:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),mn=function(){var e=Object(O.a)(p.a.mark((function e(t){var n,r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:return n=e.sent,r=n.practiceOptions[t].reduce((function(e,t,n){return Object(x.a)(Object(x.a)({},e),{},Object(m.a)({},n,t))}),{}),i=Object.keys(r).map((function(e){return Object(x.a)(Object(x.a)({},r[e]),{},{url:"img/".concat(r[e].path)})})),e.abrupt("return",{gameData:n,images:r,scrollingImages:i,correctAnswers:Object.keys(r).filter((function(e){return r[e].correct})).map((function(e){return parseInt(e)}))});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xn=function(e){return Object.keys(e.practiceRound).reduce((function(t,n){return t&&W(e.practiceRound[n].seenbefore)}),!0)},On=v.a.div(dn(),(function(e){return e.current?"lightgray":"none"})),vn=v.a.b(un(),(function(e){return e.color}),(function(e){return e.current?"> ":""})),yn=function(e){var t=e.question,n=t.path,i=t.correct,a=(t.agree,t.seenbefore),o=e.questionNumber,c=e.isCurrentImage,s=W(a)?a&&i||!a&&!i?"correct":"incorrect":"waiting",l={waiting:{text:"Waiting on your guess..."},correct:{text:"You know ".concat(fn," pretty well!"),color:jn},incorrect:{text:"Sorry, you don't know ".concat(fn," very well."),color:gn}}[s];return Object(r.jsxs)(On,{current:c,children:[Object(r.jsxs)(vn,{color:l.color,current:c,title:n,children:["Image ",o]}),Object(r.jsx)("div",{children:l.text})]})},_n=v.a.div(ln()),wn=function(e){var t=e.resetGame,n=Object(i.useContext)(l),a=Object(s.a)(n,2),o=a[0],c=a[1];return Object(r.jsxs)(_n,{children:[Object(r.jsx)(ve,{onClick:t,children:"More Practice"}),Object(r.jsx)(Et.b,{to:"/20q/easy",children:Object(r.jsx)(ve,{onClick:function(){var e=Object(x.a)({},o);e.previousPracticeRounds.push(Object(x.a)({},e.practiceRound)),e.practiceRound={},c(e)},children:"Play Game!"})})]})},kn=Object(v.a)(_e)(sn()),Sn=v.a.div(cn()),Cn=v.a.h4(on()),zn=function(e){var t=e.resetGame,n=e.currentImageIndex,a=e.demo,o=Object(i.useContext)(l),c=Object(s.a)(o,1)[0];return Object(r.jsxs)(kn,{children:[Object(r.jsxs)("div",{children:[Object(r.jsxs)(Sn,{children:["Practice Round ",a?null:c.practiceRoundNumber]}),Object(r.jsx)(Cn,{children:"Make a selection for each image:"}),Object.keys(c.practiceRound).map((function(e,t){return Object(r.jsx)(yn,{questionNumber:t+1,isCurrentImage:t===n,question:c.practiceRound[e]},t)}))]}),Object(r.jsx)("div",{children:!a&&xn(c)?Object(r.jsx)(wn,{resetGame:t}):null})]})},Tn=function(e){var t=e.images,n=e.currentIndex,a=Object(i.useContext)(l),o=Object(s.a)(a,1)[0],c=function(e){return'#practice-container button[data-id*="bullet"]:nth-child('.concat(e+1,")")},u=function(){return'#practice-container div[style*="background-size: cover"][style*="background-image:"][style*=".png"]'},d=hn.width/bn.width,b=hn.height/bn.height,h={width:parseInt(100*d),height:parseInt(100*b)},f=(bn.width-hn.width)/2,j=(bn.height-hn.height)/2;return Object(r.jsx)("style",{dangerouslySetInnerHTML:{__html:[].concat(Object(P.a)(t.map((function(e,r){var i,a=function(e,t,n){return n in t.practiceRound?t.practiceRound[n][e]:null}("seenbefore",o,t[r].path);return function(e,t){var r=n===e?"; border: 2px solid blue !important;":"";return"".concat(c(e)," { background-color: ").concat(t[0]," !important; ").concat(r," }\n        ")}(r,[(i=a,null==i?"white":i?jn:gn)])}))),Object(P.a)(["".concat(u()," {left: ").concat(f,"px !important; top: ").concat(j,"px !important; width: ").concat(h.width,"% !important; height: ").concat(h.height,"% !important; border-radius: 5px; box-shadow: 0 0 5px #000000;}")])).join("\n")}})},Mn=v.a.div(an()),In=v.a.div(rn()),Nn=v.a.div(nn()),Pn=function(e){var t=e.question,n=e.onAnswer,i=e.defaultValue;return Object(r.jsxs)(Mn,{children:[Object(r.jsx)(Nn,{children:t}),Object(r.jsx)(In,{children:Object(r.jsx)(Oe,{defaultValue:i,onToggle:n,trueBgColor:"white",falseBgColor:"white",trueLabel:"YES",falseLabel:"NO"})})]})},Ln=v.a.div(tn()),Dn=v.a.div(en()),An=Object(v.a)(Ln)($t()),Rn=function(e){var t=e.previousLabel,n=e.label,i=(100*e.value).toFixed(1);return Object(r.jsx)(An,{children:Object(r.jsx)(pe,{children:Object(r.jsxs)(Dn,{children:[Object(r.jsxs)("div",{children:[fn," says ",Object(r.jsx)("br",{}),Object(r.jsx)(Xn,{changed:X(t)&&n!==t,children:n})," ","with a confidence of"]}),Object(r.jsx)("div",{style:{margin:"0 30px 0 30px"},children:Object(r.jsx)(Wt.PieChart,{animate:!0,reveal:100,data:[{value:i,color:"#ccc"},{value:100-i,color:"#777",hideLabel:!0}],totalValue:100,lineWidth:30,label:function(e){var t=e.dataEntry;return t.hideLabel?null:"".concat(t.value,"%")},labelStyle:{fontSize:"1.1rem",fill:"white"},labelPosition:0})})]})})})},Bn=Object(v.a)(Ln)(Kt()),Fn=v.a.div(Qt()),En=function(e){var t={container:function(e){return Object(x.a)(Object(x.a)({},e),{},{width:"100%"})},indicatorSeparator:function(e){return Object(x.a)(Object(x.a)({},e),{},{display:"none"})},option:function(e,t){var n=t.data;return Object(x.a)(Object(x.a)({},e),{},{textAlign:"left",whiteSpace:"nowrap",color:"black",fontSize:"0.9rem",":before":{content:"".concat(n.icon?"'".concat(n.icon,"'"):"''"),width:"15px",padding:"0 5px 0 0 !important",display:"inline-block",textAlign:"center"}})},menu:function(e){return Object(x.a)(Object(x.a)({},e),{},{width:"fit-content"})},singleValue:function(e){return Object(x.a)(Object(x.a)({},e),{},{fontSize:"0.8rem"})}};return Object(r.jsx)(qt.a,Object(x.a)({styles:t,isSearchable:!1},e))},Wn=function(e){var t=e.image,n=e.getImageDiv,a=e.onLoadImageVariant,o={noise:0},c=Object(i.useState)(o),l=Object(s.a)(c,2),u=l[0],d=l[1],b=Object(i.useState)(null),h=Object(s.a)(b,2),f=h[0],j=h[1],g=function(e){return Y(n,{transition:"none","background-image":!u[e]&&e in t.variants&&"path"in t.variants[e]?'url("img/'.concat(t.variants[e].path,'")'):'url("img/'.concat(t.path,'")')})},p=function(e){return(t.variants[e]||t).label},O=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!u[e];g(e),a(H({probability:r&&e in t.variants?t.variants[e].probability:null,label:p(e)})),d(Object(x.a)(Object(x.a)({},o),{},Object(m.a)({},e,r),n))},v=Object.keys(t.variants||{}).filter((function(e){return!e.startsWith("noise")})),y={hflip:{label:function(){return"Horizontal Flip"},icon:function(){return"\\21C4"}},vflip:{label:function(){return"Vertical Flip"},icon:function(){return"\\21C5"}},"rot*":{label:function(e){return"".concat(e.replace("rot","Rotate "),"\xb0")},icon:function(){return"\\21BB"}}},_=function(){},w=function(e,t,n,r){return e[t]=(n[t]||_)(r)},k=[{value:"normal",label:"Normal",fn:function(){console.log("Resetting image...."),g("unknown"),a({}),d(Object(x.a)({},o))}}].concat(Object(P.a)(v.map((function(e){var t={value:e,label:e,fn:O.bind(null,e)},n=void 0;if(e in y)n=y[e];else{var r=Object.keys(y).filter((function(e){return e.includes("*")})).find((function(t){return e.startsWith(t.replace("*",""))}));r&&(n=y[r])}return n&&(w(t,"label",n,e),w(t,"icon",n,e)),t})))),S=Object.keys(t.variants||{}).filter((function(e){return e.startsWith("noise")})).map((function(e){return parseInt(e.replace("noise",""))})),C=[0].concat(Object(P.a)(S));return Object(r.jsx)(Bn,{children:Object(r.jsx)(pe,{children:Object(r.jsxs)(Dn,{children:[Object(r.jsx)(ke,{children:"Apply Filter:"}),Object(r.jsx)(Fn,{children:Object(r.jsx)(En,{options:k,value:f||k[0],onChange:function(e){j(e),e.fn()}})}),Object(r.jsx)(ze,{label:"Add Noise:",step:1,min:0,max:Math.max.apply(Math,Object(P.a)(C)),value:u.noise,onChange:function(e){var t;j(null),O("noise".concat(t=e),{noise:t})}})]})})})},Vn=v.a.div(Zt()),qn=v.a.div(Jt()),Gn=v.a.button(Ut(),(function(e){return e.selected?"black":"white"})),Hn=function(e){var t=e.mode,n=e.onSwitchMode,i={trick:"Back to Game"},a=t in i?i[t]:"Learn More",o={trick:null},c=t in o?o[t]:"trick";return Object(r.jsx)(qn,{children:Object(r.jsx)(Gn,{onClick:function(){return n(c)},children:a})})},Yn=v.a.div(Xt()),Xn=v.a.div(Yt(),(function(e){return e.changed?"white":"#333"}),(function(e){return e.changed?"#dc004d":"white"}),(function(e){return e.changed?"antiquewhite":"lightgray"})),Un=function(e){var t=e.getImageDiv,n=e.images,a=e.index,o=e.onChange,c=Object(i.useContext)(l),u=Object(s.a)(c,2),d=u[0],b=u[1],h=Object(i.useState)(null),f=Object(s.a)(h,2),j=f[0],g=f[1],p=Object(i.useState)({}),m=Object(s.a)(p,2),O=m[0],v=m[1],y=n[a],_=Object(i.useMemo)((function(){return y?{probability:y.probability||.5,label:y.label}:{probability:.5,label:"unknown"}}),[y]);if(Object(i.useEffect)((function(){v(_)}),[a,_]),!n)return null;var w=function(e,t){var r=Object(x.a)({},d);r.practiceRound[n[a].path][e]=t,b(r)}.bind(null,"seenbefore"),k=d.practiceRound[n[a].path],S="deer"===O.label?Object(r.jsxs)("div",{children:["This is a deer, and ",fn," agrees"]}):Object(r.jsxs)("div",{children:["This is a deer, but ",fn," thinks its a"," ",Object(r.jsx)(Xn,{changed:X(O.previousLabel)&&O.label!==O.previousLabel,title:"Previous: ".concat(O.previousLabel||"none"),children:O.label})]});return Object(r.jsxs)(r.Fragment,{children:["trick"!==j?Object(r.jsx)(Vn,{children:S}):null,n[a].variants?Object(r.jsx)(Hn,{mode:j,onSwitchMode:function(e){Y(t,{"background-image":'url("img/'.concat(y.path,'")')}),v(_),g(e),o(H({displayMode:e}))}}):null,j&&"trick"===j?Object(r.jsx)(Wn,{image:n[a],getImageDiv:t,onLoadImageVariant:function(e){v(Object(x.a)(Object(x.a)(Object(x.a)({},_),e),{},{previousLabel:O.label})),o(Object(x.a)(Object(x.a)(Object(x.a)({},_),e),{},{displayMode:j}))},probability:O.probability}):null,j&&"trick"===j?Object(r.jsx)(Rn,{value:O.probability,previousLabel:O.previousLabel,label:O.label}):null,Object(r.jsx)(Tn,{images:n,currentIndex:a}),"trick"!==j?Object(r.jsx)(Yn,{children:Object(r.jsx)(Pn,{question:"Do you think ".concat(fn," was trained on this image?"),onAnswer:w.bind(null),defaultValue:k.seenbefore})}):null]})},Jn=v.a.div(Ht()),Zn=v.a.div(Gt()),Qn=function(e){var t=e.demo,n=e.hideSideBar,a=Object(i.useState)(0),o=Object(s.a)(a,2),c=o[0],u=o[1],d=Object(i.useContext)(l),b=Object(s.a)(d,2),h=b[0],f=b[1],j=Object(i.useState)({}),g=Object(s.a)(j,2),p=g[0],m=g[1],x=function(){return pn(h,f,u,t)},O=Object(i.useRef)();Object(i.useEffect)(x,[]);return h.currentGameData&&h.currentGameData.scrollingImages&&h.currentGameData?Object(r.jsx)(pe,{children:Object(r.jsxs)(Jn,{id:"practice-container",children:[Object(r.jsxs)(Zn,{ref:O,children:[Object(r.jsx)(Un,{getImageDiv:function(){return O.current.querySelectorAll('div[style*="background-image:"][style*=".png"]')[1]},images:h.currentGameData.scrollingImages,index:c,onChange:m}),Object(r.jsx)(Vt.a,{width:bn.width,height:bn.height,images:h.currentGameData.scrollingImages,showBullets:!1,showNavs:"trick"!==p.displayMode,navStyle:2,onStartSlide:function(e){u(e-1)},style:{borderBottomLeftRadius:n?null:15,borderTopLeftRadius:n?null:15,backgroundColor:null,border:"1px solid slategray"}},h.version)]}),n?null:Object(r.jsx)(zn,{resetGame:x,currentImageIndex:c,demo:t})]})}):null};function Kn(){var e=Object(j.a)(['\n  margin: 20px;\n  text-align: center;\n  &::after {\n    font-size: 1.4rem;\n    content: "or scroll down to learn the story behind the games...";\n  }\n']);return Kn=function(){return e},e}function $n(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return $n=function(){return e},e}function er(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-evenly;\n  margin-right: -10px;\n"]);return er=function(){return e},e}function tr(){var e=Object(j.a)(["\n  margin-right: 10px;\n"]);return tr=function(){return e},e}function nr(){var e=Object(j.a)(["\n  font-size: 1.6rem;\n  margin: 15px;\n"]);return nr=function(){return e},e}function rr(){var e=Object(j.a)(["\n  display: inline-block;\n  border: 1px solid gray;\n  background-color: lightslategray;\n  color: white;\n  text-shadow: 2px 2px 2px darkslategray;\n  border-radius: 15px;\n  padding: 10px;\n  /* width: 180px; */\n  margin-right: 10px;\n  box-shadow: 1px 1px 4px grey;\n"]);return rr=function(){return e},e}function ir(){var e=Object(j.a)(["\n  display: inline;\n"]);return ir=function(){return e},e}function ar(){var e=Object(j.a)(["\n  font-family: Futura;\n  font-size: 4rem;\n"]);return ar=function(){return e},e}function or(){var e=Object(j.a)(["\n  border-radius: 10px;\n  background-color: antiquewhite;\n  box-shadow: 0 0 4px gray;\n  text-align: center;\n  padding: 40px;\n"]);return or=function(){return e},e}var cr=v.a.div(or()),sr=v.a.h1(ar()),lr=v.a.div(ir()),ur=v.a.div(rr()),dr=v.a.div(nr()),br=Object(v.a)(ve)(tr()),hr=v.a.div(er()),fr=function(e){var t=e.title,n=e.links;return Object(r.jsxs)(ur,{children:[Object(r.jsx)(dr,{children:t}),Object(r.jsx)(hr,{children:n.map((function(e){return Object(r.jsx)(Et.b,{to:e.to,children:Object(r.jsx)(br,Object(x.a)(Object(x.a)({},{"data-tip":e.disabled?"Coming soon":null}),{},{children:e.title||"Play"}))},e.to)}))})]})},jr=[{title:"20 Questions",links:[{title:"Learn",to:"/20q/learn"},{title:"Easy",to:"/20q/easy"},{title:"Hard",to:"/20q/hard"}]},{title:"Match Game",links:[{title:"Learn",to:"/match/learn"},{title:"Easy",to:"/match/easy"},{title:"Hard",to:"/match/hard"}]}],gr=v.a.div($n()),pr=v.a.div(Kn()),mr=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(pe,{children:Object(r.jsxs)(gr,{children:[Object(r.jsxs)(cr,{children:[Object(r.jsx)(sr,{children:"Play A Game"}),Object(r.jsx)(lr,{children:jr.map((function(e){return Object(r.jsx)(fr,Object(x.a)({},e),e.title)}))})]}),Object(r.jsx)(pr,{})]})})})},xr=n(42),Or=n(202),vr=n.n(Or);function yr(){var e=Object(j.a)(["\n  border: 2px solid slategray;\n  border-radius: 50%;\n  outline: none;\n  height: 30px;\n  width: 30px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return yr=function(){return e},e}function _r(){var e=Object(j.a)(["\n  height: 100px;\n  width: auto;\n  margin-right: 5px;\n  cursor: crosshair;\n  padding-bottom: 3px;\n  border-bottom: ",";\n"]);return _r=function(){return e},e}function wr(){var e=Object(j.a)(["\n  text-align: center;\n  padding: 10px;\n  border-top: 1px solid gray;\n"]);return wr=function(){return e},e}function kr(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: row;\n"]);return kr=function(){return e},e}function Sr(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin: 0 15px 15px 0;\n  /* padding: 15px; */\n"]);return Sr=function(){return e},e}function Cr(){var e=Object(j.a)(["\n  margin: 25px;\n  height: 250px;\n  width: auto;\n  border-radius: 5px;\n"]);return Cr=function(){return e},e}function zr(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]);return zr=function(){return e},e}function Tr(){var e=Object(j.a)(["\n  border: 1px solid gray;\n  border-radius: 5px;\n  background-color: whitesmoke;\n"]);return Tr=function(){return e},e}var Mr=v.a.div(Tr()),Ir=v.a.div(zr()),Nr=v.a.img(Cr()),Pr=v.a.div(Sr()),Lr=v.a.div(kr()),Dr=v.a.div(wr()),Ar=v.a.img(_r(),(function(e){return e.selected?"5px solid midnightblue":"5px solid rgba(0,0,0,0)"})),Rr=function(e){var t=e.rotation,n=void 0===t?90:t,i=e.children,a=e.style;return Object(r.jsx)("div",{style:Object(x.a)(Object(x.a)({},a),{},{transform:"rotate(".concat(n,"deg)")}),children:i})},Br=function(e){return Object(r.jsx)(Rr,Object(x.a)({style:{fontSize:e.size}},e))},Fr=v.a.button(yr()),Er={play:Object(r.jsx)(ye,{symbol:"0x25B6",style:{paddingLeft:3}}),pause:Object(r.jsx)(Br,{size:23,children:"="})},Wr=function(e){var t=e.status,n=void 0===t?"stopped":t,i=e.onClick,a={stopped:Er.play,playing:Er.pause};return Object(r.jsx)(Fr,{onClick:i,children:a[n]})},Vr=function(e){var t=e.images,n=e.info,o=e.width,c=e.delay,l=void 0===c?150:c,u=Object(i.useState)(0),d=Object(s.a)(u,2),b=d[0],h=d[1],f=Object(i.useState)(!1),j=Object(s.a)(f,2),g=j[0],p=j[1];return a.a.useEffect((function(){if(g){var e=b<t.length-1?b+1:0;setTimeout((function(){return h(e)}),l)}}),[g,b,h,t,l]),Object(r.jsxs)(Mr,{style:{width:o},children:[Object(r.jsxs)(Ir,{children:[Object(r.jsx)(Nr,{src:t[b],alt:""}),Object(r.jsxs)(Pr,{children:[Object(r.jsx)("div",{children:n}),Object(r.jsxs)(Lr,{children:[Object(r.jsx)(Wr,{selectedIndex:b,status:g?"playing":"stopped",onClick:function(){return p(!g)}}),Object(r.jsx)("input",{type:"range",min:0,max:t.length-1,step:1,value:b,style:{outline:"none"},onInput:function(e){return h(parseInt(e.target.value))}})]})]})]}),Object(r.jsx)(Dr,{children:t.map((function(e,t){return Object(r.jsx)(Ar,{src:e,onMouseOver:function(){g||h(t)},selected:t===b},"slide-".concat(t))}))})]})},qr=n(314),Gr=n(324),Hr=n(329);function Yr(){var e=Object(j.a)(["\n  flex-direction: row;\n"]);return Yr=function(){return e},e}function Xr(){var e=Object(j.a)(["\n  flex-direction: column;\n"]);return Xr=function(){return e},e}function Ur(){var e=Object(j.a)(["\n  display: flex;\n"]);return Ur=function(){return e},e}function Jr(){var e=Object(j.a)(["\n  font-weight: bold;\n  font-size: 0.8rem;\n  text-align: center;\n  margin: 5px 0;\n"]);return Jr=function(){return e},e}function Zr(){var e=Object(j.a)(["\n  height: ",";\n  width: ",";\n  background-color: white;\n  border: 1px solid lightgray;\n  border-radius: 5px;\n  margin: 5px;\n"]);return Zr=function(){return e},e}function Qr(){var e=Object(j.a)(["\n  background-color: white;\n  border-radius: 3px;\n  padding: 5px;\n  border: 1px solid gray;\n"]);return Qr=function(){return e},e}var Kr=function(e){return Math.round(2*e)/2},$r=function(e,t){var n=t.groups,r=e.reduce((function(e,t){return Object(x.a)(Object(x.a)({},e),{},Object(m.a)({},t.errorRounded,[].concat(Object(P.a)(e[t.errorRounded]||[]),[t.path])))}),{});return{groups:n,colors:n.map((function(e){return e.color})),maxX:Object.keys(r).length?Math.max.apply(Math,Object(P.a)(Object.keys(r))):0,data:n.map((function(e){return{id:e.label,data:(t=r,n=e.fn,Object.keys(t).map((function(e){return t[e].map((function(t,n){return{x:e,y:n+1,label:t}}))})).flat().filter(n))};var t,n}))}},ei=function(e,t,n){var r=t.title,i=t.groups,a=i.reduce((function(e,t){return Object(x.a)(Object(x.a)({},e),{},Object(m.a)({},t.label,0))}),{}),o=e.reduce((function(e,t){return(i||[]).reduce((function(e,r){return r.fn(t,n)?Object(x.a)(Object(x.a)({},e),{},Object(m.a)({},r.label,(e[r.label]||0)+1)):Object(x.a)({},e)}),e)}),a);return{groups:i,title:r,colors:i.map((function(e){return e.color})),data:i.map((function(e){return{id:e.label,label:e.label,value:o[e.label]}})),total:e.length}},ti=v.a.div(Qr()),ni=v.a.div(Zr(),(function(e){var t=e.height;return"".concat(void 0===t?150:t,"px")}),(function(e){var t=e.width;return"".concat(void 0===t?150:t,"px")})),ri=function(e,t,n){return n&&n.length?n.reduce((function(n,r){return e.apply(void 0,Object(P.a)(r.data.map((function(e){return e[t]}))).concat([n]))}),0):0},ii={maxXValue:ri.bind(null,Math.max,"x"),maxYValue:ri.bind(null,Math.max,"y"),minXValue:ri.bind(null,Math.min,"x"),minYValue:ri.bind(null,Math.min,"y"),yCount:function(e,t){return e&&e.length?e.reduce((function(e,n){return n.data.filter((function(e){return e.x.toString()===t.toString()})).length+e}),0):0}},ai=function(e){var t=e.data,n=e.threshold,i=e.xScale,a=e.yScale,o=e.nodeSize;if(!X(t)||!X(n)||!X(o))return null;var c=[i(n),a(-5),i(n),a(ii.maxYValue(t)+5)],s=c[0],l=c[1],u=c[2],d=c[3],b=ii.yCount(t,n),h=ii.minXValue(t),f=ii.maxXValue(t),j=h-1,g=f+2,p=o/2+1,m=["".concat(s-p,",").concat(l),"".concat(s-p,",").concat(d),"".concat(u+p,",").concat(d),"".concat(u+p,",").concat(l)],x=["".concat(i(j),",").concat(l),"".concat(i(j),",").concat(d),"".concat(s-p,",").concat(d),"".concat(s-p,",").concat(l)],O=u+(i(g)-u)/2,v=s-(s-i(j))/2;return isNaN(s)||isNaN(u)||isNaN(l)||isNaN(d)?null:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(r.Fragment,{children:[n>h?Object(r.jsx)("text",{x:v,y:-10,textAnchor:"middle",style:{fontSize:".7rem"},children:"\u2190 OUT"}):null,b?Object(r.jsx)("text",{x:s,y:-10,textAnchor:"middle",style:{fontSize:".63rem"},children:b}):null,n<=f?Object(r.jsx)("text",{x:O,y:-10,textAnchor:"middle",style:{fontSize:".7rem"},children:"IN \u2192"}):null]}),Object(r.jsx)("polygon",{points:m.join(" "),fill:"rgba(0,0,0,0)",stroke:"rgba(20,20,20,1)",strokeWidth:"1.5"}),Object(r.jsx)("polygon",{points:x.join(" "),fill:"rgba(0,0,0,.15)"})]})},oi=function(e){var t=e.model,n=e.nodeSize,i=void 0===n?13:n,a=e.threshold,o=e.maxX,c=void 0===o?"auto":o,s=e.minX,l=void 0===s?"auto":s,u=e.colorFn,d=e.bottomLabel;return Object(r.jsx)(qr.a,{data:t.data,margin:{top:20,bottom:50,right:20,left:20},xScale:{type:"linear",min:l,max:c},colors:u||t.colors,tooltip:function(e){return Object(r.jsx)(ti,{children:e.node.data.label})},nodeSize:i,axisBottom:{orient:"bottom",legend:d,legendPosition:"middle",legendOffset:35},axisLeft:!1,threshold:a,layers:["axes","nodes",ai],legends:[{anchor:"top-right",direction:"column",translateX:110,translateY:0,itemWidth:90,itemHeight:12,itemsSpacing:5,symbolSize:i,symbolShape:"circle",effects:[{on:"hover",style:{itemTextColor:"#000",itemBackground:"#f7fafb"}}]}]})},ci=v.a.div(Jr()),si=function(e){var t=e.size,n=e.x,i=e.y,a=e.color,o=e.fill,c=e.opacity,s=e.borderWidth,l=e.borderColor,u=e.onHover,d=e.onLeave;return Object(r.jsx)("circle",{r:t/2,cx:n+t/2,cy:i+t/2,fill:o||a,strokeWidth:s,stroke:l,opacity:c,onMouseEnter:u,onMouseMove:u,onMouseLeave:d})},li=function(e){var t=e.model;return t.total?Object(r.jsxs)(r.Fragment,{children:[t.title?Object(r.jsx)(ci,{children:t.title}):null,Object(r.jsx)(Gr.a,{data:t.data,total:t.total,rows:t.total/10+1,columns:10,colors:t.colors,margin:{top:0},cellComponent:si,fillDirection:"top",emptyColor:"rgba(0,0,0,0)"})]}):null},ui=function(e){var t=e.dataWithArc,n=e.centerX,i=e.centerY,a=t.reduce((function(e,t){return e+t.value}),0);return Object(r.jsx)("text",{x:n,y:i,textAnchor:"middle",dominantBaseline:"central",style:{fontSize:"1.5rem"},children:a})},di=function(e){var t=e.model,n=e.showTotal,i=void 0===n||n;return Object(r.jsxs)(r.Fragment,{children:[t.title?Object(r.jsx)(ci,{children:t.title}):null,Object(r.jsx)(Hr.a,{data:t.data,margin:{top:35,right:120,bottom:80,left:120},colors:t.colors,innerRadius:.6,enableRadialLabels:!1,padAngle:.5,cornerRadius:2,layers:["slices","sliceLabels","radialLabels","legends",i?ui:null],sliceLabel:function(e){return e.value?e.value:null},sliceLabelsTextColor:"white"})]})},bi=function(e){var t=e.color,n=e.text,i=e.colorPosition,a=void 0===i?"left":i,o=Object(r.jsx)("div",{style:{width:14,height:14,borderRadius:"50%",backgroundColor:t,margin:"0 5px"}});return Object(r.jsxs)("div",{style:{display:"flex",textAlign:a,justifyContent:"left"===a?"flex-start":"flex-end",padding:"1px 0"},children:["left"===a?o:null,Object(r.jsx)("span",{style:{fontSize:".6rem"},children:n}),"right"===a?o:null]})},hi=function(e){var t=e.model;return Object(r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"50% 50%"},children:[Object(r.jsx)(bi,Object(x.a)({colorPosition:"right"},t.negativeBelowThreshold)),Object(r.jsx)(bi,Object(x.a)({},t.positiveBelowThreshold)),Object(r.jsx)(bi,Object(x.a)({colorPosition:"right"},t.negativeAboveThreshold)),Object(r.jsx)(bi,Object(x.a)({},t.positiveAboveThreshold))]})},fi=v.a.div(Ur()),ji=Object(v.a)(fi)(Xr()),gi=Object(v.a)(fi)(Yr()),pi=function(e){var t=e.nodeSize,n=void 0===t?10:t,i=e.height,a=void 0===i?300:i,o=e.width,c=void 0===o?600:o,s=e.threshold,l=e.models,u=e.dotPlotMaxX,d=e.bottomLabel,b=e.sliderLabel,h=e.setThreshold,f=e.dotPlotColorFn,j=e.legendModel,g=c/2,p=a/2-6;return Object(r.jsxs)(fi,{children:[u?Object(r.jsxs)(ji,{children:[Object(r.jsx)(ni,{height:a,width:g,children:Object(r.jsx)(oi,{model:l.dotPlot,nodeSize:n,threshold:s,minX:0,maxX:u,colorFn:f,bottomLabel:d,legendModel:j})}),Object(r.jsx)(ze,{label:b,labelPosition:"bottom",min:0,max:u,step:.5,value:s,style:{outline:"none",width:g-40,marginLeft:26,marginTop:4},handleStyle:{padding:3,borderRadius:"0 0 50% 50%"},onChange:function(e){return h(e)}})]}):null,Object(r.jsxs)(ji,{children:[Object(r.jsxs)(gi,{children:[Object(r.jsx)(ni,{height:p,children:Object(r.jsx)(li,{model:l.correct})}),Object(r.jsx)(ni,{height:p,children:Object(r.jsx)(li,{model:l.incorrect})})]}),Object(r.jsxs)(gi,{children:[Object(r.jsx)(ni,{height:p,children:Object(r.jsx)(di,{model:l.truePositive})}),Object(r.jsx)(ni,{height:p,children:Object(r.jsx)(di,{model:l.positive})})]}),Object(r.jsx)(hi,{model:j})]})]})},mi="#FF4136",xi="#0074D9",Oi="lightgray",vi="gray",yi={positiveAboveThreshold:{color:xi,text:"IN - Above Threshold"},positiveBelowThreshold:{color:vi,text:"IN - Below Threshold"},negativeAboveThreshold:{color:mi,text:"OUT - Above Threshold"},negativeBelowThreshold:{color:Oi,text:"OUT - Below Threshold"}},_i={dotPlot:{groups:[{label:"In Distances",fn:function(e){return e.label.includes("_train_")},color:xi},{label:"Out Distances",fn:function(e){return e.label.includes("_out_")},color:mi}]},correct:{title:"Correct",groups:[{label:"Incorrect",fn:function(e,t){return e.errorRounded<t&&e.path.includes("_out_")},color:Oi},{label:"Correct",fn:function(e,t){return e.errorRounded>=t&&e.path.includes("_train_")},color:xi}]},incorrect:{title:"Incorrect",groups:[{label:"Incorrect",fn:function(e,t){return e.errorRounded>=t&&e.path.includes("_out_")},color:mi},{label:"Correct",fn:function(e,t){return e.errorRounded<t&&e.path.includes("_train_")},color:vi}]},truePositive:{title:"True Positive Rate",groups:[{label:"In",fn:function(e,t){return e.errorRounded>=t&&e.path.includes("_train_")},color:xi},{label:"In Below Threshold",fn:function(e,t){return e.errorRounded<t&&e.path.includes("_train_")},color:vi}]},positive:{title:"Positive Rate",groups:[{label:"In",fn:function(e,t){return e.errorRounded>=t&&e.path.includes("_train_")},color:xi},{label:"In Below Threshold",fn:function(e,t){return e.errorRounded<t&&e.path.includes("_train_")},color:vi},{label:"Out",fn:function(e,t){return e.errorRounded>=t&&e.path.includes("_out_")},color:mi},{label:"Out Below Threshold",fn:function(e,t){return e.errorRounded<t&&e.path.includes("_out_")},color:Oi}]}},wi=function(e){var t=e.nodeSize,n=void 0===t?10:t,a=e.defaultThreshold,o=void 0===a?4.5:a,c=e.height,l=void 0===c?300:c,u=e.width,d=void 0===u?600:u,b=e.thresholdPercent,h=e.bottomLabel,f=e.sliderLabel,j=Object(i.useState)([]),g=Object(s.a)(j,2),m=g[0],v=g[1],y=Object(i.useState)({dotPlot:{data:[]},correct:{data:[],total:0},incorrect:{data:[],total:0},truePositive:{data:[],total:0},positive:{data:[],total:0}}),_=Object(s.a)(y,2),w=_[0],k=_[1],S=Object(i.useState)(0),C=Object(s.a)(S,2),z=C[0],T=C[1],M=Object(i.useState)(o),I=Object(s.a)(M,2),N=I[0],P=I[1];return Object(i.useEffect)((function(){(function(){var e=Object(O.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./data/dot-plot-results.json");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,v(n.results.map((function(e){return Object(x.a)(Object(x.a)({},e),{},{errorRounded:Kr(e.error)})})));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(i.useEffect)((function(){var e=$r(m,_i.dotPlot);k({dotPlot:e,correct:ei(m,_i.correct,o),incorrect:ei(m,_i.incorrect,o),truePositive:ei(m,_i.truePositive,o),positive:ei(m,_i.positive,o)}),P(o),e.maxX&&T(e.maxX+1)}),[m,o]),Object(i.useEffect)((function(){var e=N;b&&(e=Kr(z*b),P(e)),k(Object(x.a)(Object(x.a)({},w),{},{correct:ei(m,_i.correct,e),incorrect:ei(m,_i.incorrect,e),truePositive:ei(m,_i.truePositive,e),positive:ei(m,_i.positive,e)}))}),[N,b]),Object(r.jsx)(pi,{nodeSize:n,height:l,width:d,threshold:N,models:w,legendModel:yi,dotPlotMaxX:z,bottomLabel:h,sliderLabel:f,setThreshold:P,dotPlotColorFn:function(e){return e.x<N?e.label.includes("out")?"lightgray":"gray":e.label&&e.label.includes("out")?mi:xi}})};function ki(){var e=Object(j.a)(["\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  padding: 5px;\n  font-size: 75%;\n  color: white;\n  background: rgba(0, 0, 0, 0.5);\n  border-top-left-radius: 3px;\n  border-bottom-right-radius: ",";\n"]);return ki=function(){return e},e}function Si(){var e=Object(j.a)(["\n  height: 100%;\n  width: 100%;\n  border-radius: ",";\n"]);return Si=function(){return e},e}function Ci(){var e=Object(j.a)(["\n  position: relative;\n  display: inline-block;\n  height: ",";\n  width: ",";\n  margin: 2px;\n"]);return Ci=function(){return e},e}function zi(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  background-color: whitesmoke;\n  padding: 10px;\n  border: 1px solid gray;\n  border-radius: 5px;\n"]);return zi=function(){return e},e}var Ti=function(e,t){return{index:t,src:"img/".concat(e.path),label:e.label}},Mi=v.a.div(zi()),Ii=v.a.div(Ci(),(function(e){var t=e.size;return(void 0===t?{}:t).height||"180px"}),(function(e){var t=e.size;return(void 0===t?{}:t).width||"180px"})),Ni=v.a.img(Si(),(function(e){return e.rounded?"5px":"none"})),Pi=v.a.div(ki(),(function(e){return e.rounded?"5px":"none"})),Li=function(e){var t=e.image,n=e.size,i=e.rounded;return Object(r.jsxs)(Ii,{size:n,children:[Object(r.jsx)(Pi,{title:t.title,rounded:i,children:t.label}),Object(r.jsx)(Ni,{src:t.src,alt:"",rounded:i})]})},Di=function(e){var t=e.images,n=e.tileSize,i=e.rounded;return Object(r.jsx)("div",{children:t.map((function(e,t){return Object(r.jsx)(Li,{image:e,size:n,rounded:i},"image-tile-".concat(e,"-").concat(t))}))})},Ai=function(e){var t=e.imageSetNumber,n=void 0===t?3:t,a=e.rounded,o=void 0===a||a,c=Object(i.useState)([]),l=Object(s.a)(c,2),u=l[0],d=l[1],b=Object(i.useState)([]),h=Object(s.a)(b,2),f=h[0],j=h[1],g=Object(i.useState)(0),m=Object(s.a)(g,2),x=m[0],v=m[1],y=Object(i.useState)([0,0]),_=Object(s.a)(y,2),w=_[0],k=_[1];Object(i.useEffect)((function(){(function(){var e=Object(O.a)(p.a.mark((function e(){var t,r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:t=e.sent,r=t.practiceOptions[n],d(r),i=Object(P.a)(new Set(r.reduce((function(e,t){return[].concat(Object(P.a)(e),Object(P.a)(Object.keys(t.variants||{}).filter((function(e){return e.startsWith("noise")})).map((function(e){return parseInt(e.replace("noise",""))}))))}),[]))),k([0,Math.max.apply(Math,Object(P.a)(i))]),j(r.map(Ti));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(i.useEffect)((function(){if(0!==x){var e=u.map((function(e,t){return Ti(e.variants["noise".concat(x)],t)}));j(e)}}),[x]);var S=Object(s.a)(w,2),C=S[0],z=S[1];return f&&f.length?Object(r.jsx)(pe,{children:Object(r.jsxs)(Mi,{children:[Object(r.jsx)(Di,{images:f,tileSize:{height:"180px",width:"180px"},rounded:o}),z>0?Object(r.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(r.jsx)(ze,{label:"Add Noise",labelPosition:"bottom",min:C,max:z,step:1,value:x,style:{outline:"none",width:"100%"},onChange:v})}):null]})}):null},Ri=n(326);function Bi(){var e=Object(j.a)(["\n  display: inline-block;\n  margin: 3px 10px;\n  padding: 0 4px;\n  border: 3px solid ",";\n  border-radius: 3px;\n  font-size: ","pt;\n  transition: border 0.2s linear;\n"]);return Bi=function(){return e},e}function Fi(){var e=Object(j.a)(["\n  border-radius: 5px;\n  margin: 0 2px 0 2px;\n  display: inline-block;\n"]);return Fi=function(){return e},e}var Ei=[{img:"story-img/class-arch.png",label:"Arch",tagSize:25},{img:"story-img/class-barn.png",label:"Barn",tagSize:35},{img:"story-img/class-beach.png",label:"Beach",tagSize:25},{img:"story-img/class-beetle.png",label:"Beetle",tagSize:35},{img:"story-img/class-broom.png",label:"Broom",tagSize:25},{img:"story-img/class-candle.png",label:"Candle",tagSize:35},{img:"story-img/class-lamp.png",label:"Lamp",tagSize:25},{img:"story-img/class-phone.png",label:"Phone",tagSize:35},{img:"story-img/class-pool-table.png",label:"Pool Table",tagSize:25},{img:"story-img/class-ship.png",label:"Ship",tagSize:35},{img:"story-img/class-skunk.png",label:"Skunk",tagSize:35},{img:"story-img/class-toaster.png",label:"Toaster",tagSize:25}],Wi=Ei.map((function(e,t){return{value:e.label,count:e.tagSize}})),Vi=v.a.img(Fi()),qi=function(e){var t=e.details,n=t.img,a=t.label,o=e.imageWidth,c=e.onSelect,l=void 0===c?function(){return null}:c,u=Object(i.useState)(!1),d=Object(s.a)(u,2),b=d[0],h=d[1],f=function(e){h(!!e),l(e)};return Object(r.jsx)(Vi,{onMouseOver:function(){return f(a)},onMouseOut:function(){return f()},src:n,alt:a,style:{width:o,height:"auto",boxShadow:b?"1px 1px 5px gray":"none"}})},Gi=function(e){var t=e.images,n=e.width,i=void 0===n?640:n,a=e.imageWidth,o=void 0===a?130:a,c=e.onSelect;return Object(r.jsx)("div",{style:{width:i},children:t.map((function(e){return Object(r.jsx)(qi,{details:e,imageWidth:o,onSelect:c},"card-".concat(e.label))}))})},Hi=v.a.div(Bi(),(function(e){return e.color}),(function(e){return e.size})),Yi=function(e){var t=e.model,n=void 0===t?Ei:t,a=Object(i.useState)(),o=Object(s.a)(a,2),c=o[0],l=o[1],u=Object(i.useState)([]),d=Object(s.a)(u,2),b=d[0],h=d[1];return Object(i.useEffect)((function(){h(n)}),[]),Object(r.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(r.jsx)(Gi,{images:b,onSelect:function(e){return l(e)}}),Object(r.jsx)("div",{style:{display:"flex",alignContent:"center"},children:Object(r.jsx)(Ri.TagCloud,{style:{width:400,textAlign:"center"},tags:Wi,minSize:25,maxSize:35,renderer:function(e){return function(e,t,n){return Object(r.jsx)(Hi,{size:t,color:n,children:e.value},e.value)}(e,e.count,e.value===c?"orange":"rgba(0,0,0,0)")}})})]})},Xi={columns:[{cx:10,fill:"rgb(157,157,144)",yValues:[10,30,50,70,90]},{cx:40,fill:"rgb(158,170,190)",yValues:[30,50,70]},{cx:70,fill:"rgb(240,161,112)",yValues:[40,60]},{cx:100,yValues:[{cy:10,fill:"rgb(176,0,4)"},{cy:26,r:1},{cy:30,r:1},{cy:34,r:1},{cy:50,fill:"rgb(0,0,0)"},{cy:70,fill:"rgb(255,226,129)"},{cy:90,fill:"rgb(130,201,63)"}]},{cx:130,yValues:[{cy:10,fill:"rgb(222,93,97)"},{cy:26,r:1},{cy:30,r:1},{cy:34,r:1},{cy:50,fill:"rgb(129,134,133)"},{cy:70,fill:"rgb(255,239,185)"},{cy:90,fill:"rgb(186,227,146)"}]}],arrows:[{from:[0,0],to:[1,0]},{from:[0,0],to:[1,1]},{from:[0,1],to:[1,0]},{from:[0,1],to:[1,1]},{from:[0,1],to:[1,2]},{from:[0,2],to:[1,0]},{from:[0,2],to:[1,1]},{from:[0,2],to:[1,2]},{from:[0,3],to:[1,0]},{from:[0,3],to:[1,1]},{from:[0,3],to:[1,2]},{from:[0,4],to:[1,1]},{from:[0,4],to:[1,2]},{from:[1,0],to:[2,0]},{from:[1,0],to:[2,1]},{from:[1,1],to:[2,0]},{from:[1,1],to:[2,1]},{from:[1,2],to:[2,0]},{from:[1,2],to:[2,1]},{from:[2,0],to:[3,0]},{from:[2,0],to:[3,4]},{from:[2,0],to:[3,5]},{from:[2,0],to:[3,6]},{from:[2,1],to:[3,0]},{from:[2,1],to:[3,4]},{from:[2,1],to:[3,5]},{from:[2,1],to:[3,6]}]},Ui={r:8,fill:"black"},Ji=function(e){var t=e.index,n=e.override;return Object(x.a)(Object(x.a)({},Ui),{},{key:"circle-".concat(t,"-").concat(n.cy)},n)},Zi=function(e){var t=e.index,n=e.cx,i=e.yValues,a=e.r,o=void 0===a?8:a,c=e.fill;return i.map((function(e){var i=Ji("object"===typeof e?{index:t,override:Object(x.a)({cx:n},e)}:{index:t,override:{cx:n,cy:e,r:o,fill:c}});return Object(r.jsx)("circle",Object(x.a)({},i))}))},Qi=function(e){var t,n=e.from,i=e.to,a=function(e,t){var n=Xi.columns[e].yValues[t];return"object"===typeof n?n.cy:n};return Object(r.jsx)("line",{x1:(t=n[0],Xi.columns[t].cx+Ui.r),y1:a(n[0],n[1]),x2:function(e){return Xi.columns[e].cx-Ui.r}(i[0]),y2:a(i[0],i[1]),stroke:"#000",strokeWidth:.7,markerEnd:"url(#arrowhead)"})},Ki=function(e){var t=e.style,n=e.id,i=e.additionalShapes,a=void 0===i?[]:i;return Object(r.jsx)("div",{style:t,id:n,children:Object(r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 140 100",children:[Object(r.jsx)("defs",{children:Object(r.jsx)("marker",{id:"arrowhead",markerWidth:"6",markerHeight:"6",refX:"12",refY:"3",orient:"auto",children:Object(r.jsx)("polygon",{points:"0 0, 6 3, 0 6"})})}),Xi.columns.map((function(e,t){return Object(r.jsx)(Zi,Object(x.a)({},e),"column-".concat(t))})),Xi.arrows.map((function(e,t){return Object(r.jsx)(Qi,Object(x.a)({},e),"target-model-arrow-".concat(t))})),a]})})};function $i(){var e=Object(j.a)(["\n  background-color: rgb(63, 108, 175);\n  color: white;\n  border: none;\n  padding: 8px;\n  border-radius: 5px;\n  font-size: 16pt;\n  outline: none;\n  vertical-align: top;\n  height: 42px;\n  &:disabled {\n    pointer-events: none;\n    color: gray;\n  }\n  &:hover {\n    text-shadow: 1px 1px 1px black;\n  }\n  &:nth-child(odd) {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n    border-right: 2px solid gray;\n  }\n  &:nth-child(even) {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n"]);return $i=function(){return e},e}function ea(){var e=Object(j.a)(['\n  position: relative;\n  height: 100px;\n  min-height: 100px;\n  margin-top: -25px;\n  padding: 0.25em;\n  width: 120px;\n  border: 3px solid #333;\n  background-color: white;\n  font-size: 1.3rem;\n  &::before {\n    /* content: "\\1D453(x\\208',')"; */\n    position: relative;\n    left: -80%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: inherit;\n  }\n  &:nth-child(odd) {\n    left: 150px;\n    margin-left: 30px;\n  }\n  &:nth-child(even) {\n    left: 35px;\n  }\n'],['\n  position: relative;\n  height: 100px;\n  min-height: 100px;\n  margin-top: -25px;\n  padding: 0.25em;\n  width: 120px;\n  border: 3px solid #333;\n  background-color: white;\n  font-size: 1.3rem;\n  &::before {\n    /* content: "\\\\1D453(x\\\\208',')"; */\n    position: relative;\n    left: -80%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: inherit;\n  }\n  &:nth-child(odd) {\n    left: 150px;\n    margin-left: 30px;\n  }\n  &:nth-child(even) {\n    left: 35px;\n  }\n']);return ea=function(){return e},e}function ta(){var e=Object(j.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  animation: "," 0.1s linear;\n"]);return ta=function(){return e},e}function na(){var e=Object(j.a)(['\n  height: 100px;\n  width: 100px;\n  background-color: gray;\n  margin: 10px;\n  margin-left: 35px;\n  font-size: 1.2rem;\n  &::before {\n    content: "x\\208','";\n    position: relative;\n    left: -65%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: inherit;\n  }\n'],['\n  height: 100px;\n  width: 100px;\n  background-color: gray;\n  margin: 10px;\n  margin-left: 35px;\n  font-size: 1.2rem;\n  &::before {\n    content: "x\\\\208','";\n    position: relative;\n    left: -65%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: inherit;\n  }\n']);return na=function(){return e},e}function ra(){var e=Object(j.a)(["\n  from { opacity: 0; }\n  to { opacity: 1; }\n"]);return ra=function(){return e},e}var ia=Object(v.b)(ra()),aa=v.a.div(na(),(function(e){return e.index})),oa=function(e){var t=e.count,n=e.images,i=new Array(t).fill(0);return Object(r.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:i.map((function(e,t){return Object(r.jsx)(aa,{index:t+1,id:"input-".concat(t+1),style:{backgroundImage:n[t]?"url(story-img/".concat(n[t],")"):null}},"input-".concat(t+1))}))})},ca=v.a.div(ta(),ia),sa=function(e){var t=e.width,n=void 0===t?"100%":t,i=e.height,a=void 0===i?"100%":i,o=e.index,c=function(e){return{height:10+(e||0),rx:1,y:40-(e||0)}};return Object(r.jsx)(ca,{style:{width:n,height:a,position:"absolute"},id:"output-".concat(o),children:Object(r.jsxs)("svg",{viewBox:"0 0 100 85",children:[Object(r.jsx)("rect",{fill:"rgb(176,0,4)",style:c(),x:2,width:15}),Object(r.jsx)("rect",{fill:"#eee",style:c(),x:20,width:22}),Object(r.jsx)("rect",{fill:"black",x:21,y:44,height:2,width:2}),Object(r.jsx)("rect",{fill:"black",x:25,y:44,height:2,width:2}),Object(r.jsx)("rect",{fill:"black",x:29,y:44,height:2,width:2}),Object(r.jsx)("rect",{fill:"black",style:c(5*(o-1)),x:43,width:15}),Object(r.jsx)("rect",{fill:"rgb(255,226,129)",style:c(),x:61,width:19}),Object(r.jsx)("rect",{fill:"rgb(130,201,63)",style:c(),x:80,width:18}),Object(r.jsx)("ellipse",{cx:"50",cy:"42",rx:"15",ry:"40",style:{stroke:"rgb(63,108,175)",strokeWidth:4,fill:"none"}}),Object(r.jsx)("text",{x:"50",y:"72",textAnchor:"middle",style:{font:"14px arial"},children:"?"})]})})},la=v.a.div(ea(),(function(e){return e.index})),ua=function(e){var t=e.count,n=new Array(t).fill(0);return Object(r.jsx)("div",{style:{display:"flex",flexDirection:"column",maxHeight:200,paddingTop:25,justifyContent:"space-evenly"},children:n.map((function(e,t){return Object(r.jsx)(la,{index:t+1,children:Object(r.jsx)(sa,{index:t+1})},"output-".concat(t+1))}))})},da=["","black","rgb(130,120,66)","rgb(252,0,26)","rgb(58,105,173)"],ba=["","\ud835\udc53(x\u2081)","\ud835\udc53(x\u2082)","\ud835\udc53(x\u2083)","\ud835\udc53(x\u2084)"],ha=function(e){var t=e.index;return Object(r.jsx)("div",{style:{color:da[t],marginTop:15},children:ba[t]})},fa=[null,"input-output-input-2.png","input-output-input-3.png","input-output-input-4.png"],ja=v.a.button($i()),ga=function(e){var t=e.onClick,n=e.actionDisabled;return Object(r.jsxs)("div",{style:{textAlign:"center",marginBottom:15},children:[Object(r.jsxs)(ja,{onClick:function(){return t(1)},disabled:n,children:[Object(r.jsx)(ye,{symbol:"0x203A"})," Step Inversion"]}),Object(r.jsx)(ja,{onClick:function(){return t()},title:"Reset",children:Object(r.jsx)(ye,{symbol:"0x21BB"})})]})},pa=function(){var e=Object(i.useState)(0),t=Object(s.a)(e,2),n=t[0],a=t[1],o=Object(i.useRef)([]),c=Object(i.useState)([]),l=Object(s.a)(c,2),u=l[0],d=l[1];Object(i.useEffect)((function(){setTimeout((function(){return a(1)}),1e3)}),[]);var b=Object(i.useCallback)((function(){if(n>0){for(var e=[],t=1;t<=n;t++){var i={color:da[t],size:2.5,animateDrawing:"0.5s",strokeWidth:2,path:"straight"};e.push(Object(x.a)(Object(x.a)({},i),{},{start:"input-".concat(t),end:"target-model"})),e.push(Object(x.a)(Object(x.a)({},i),{},{startAnchor:{position:"auto",offset:{rightness:-54}},start:"target-model",end:"output-".concat(t),label:{end:Object(r.jsx)(ha,{index:t})}}))}d(e)}}),[n]);Object(i.useEffect)((function(){b()}),[b]);return Object(r.jsxs)("div",{style:{marginBottom:300},children:[Object(r.jsx)(ga,{onClick:function(e){return a((function(t){if(null===e||void 0===e)a(1);else{var n=t+e;a(Math.min(Math.max(1,n),4))}}))},actionDisabled:4===n}),Object(r.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center",minWidth:900,maxWidth:"90%"},ref:o,children:[Object(r.jsx)(oa,{count:n,images:fa}),Object(r.jsx)(Ki,{style:{width:275},id:"target-model",additionalShapes:[Object(r.jsx)("circle",{cx:"100",cy:"50",r:"12",stroke:"rgb(63,108,175)",strokeWidth:2,fill:"none"},"circled-output-shape")]}),Object(r.jsx)(ua,{count:n}),u.map((function(e){return Object(r.jsx)(ht.a,Object(x.a)({},e),"xarrow-".concat(e.start,"-").concat(e.end))}))]})]})};function ma(){var e=Object(j.a)(["\n  display: flex;\n  justify-content: space-around;\n  & * {\n    display: block;\n  }\n"]);return ma=function(){return e},e}function xa(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-evenly;\n  align-items: ",";\n"]);return xa=function(){return e},e}var Oa=v.a.div(xa(),(function(e){var t=e.valign;return void 0===t?"center":t})),va={size:4,head:3,color:"coral"},ya={validate:function(e){var t=[];return e.forEach((function(e){e.id||e.props.id||t.push("FlowChart element [".concat(e.type,"] is missing id"))})),t},hasPosition:function(e){return e.style&&("top"in e.style||"bottom"in e.style||"left"in e.style||"right"in e.style)},hasPositionedElements:function(e){return e.reduce((function(e,t){return e||ya.hasPosition(t)}),!1)},hasUserDefinedLinks:function(e){return e.reduce((function(e,t){return e||"links"in t}),!1)},buildLinks:function(e){return ya.hasUserDefinedLinks(e)?e.map((function(e){return(Object.keys(e.links||{})||[]).map((function(t){return{from:e.id,to:t,config:Object(x.a)(Object(x.a)({},va),e.links[t])}}))})).flat():e.reduce((function(t,n,r){return r===e.length-1?t:[].concat(Object(P.a)(t),[{from:n.props.id,to:e[r+1].props.id,config:va}])}),[])}},_a=v.a.div(ma()),wa=function(e){var t=e.name,n=e.elements,a=e.size,o=e.style,c=e.startAnimating,l=e.visible,u=e.chainLinkAnimation,d=e.betweenLinkDelay,b=void 0===d?0:d,h=l&&c,f=Object(i.useState)([]),j=Object(s.a)(f,2),g=j[0],p=j[1],m=ya.validate(n);m.length&&console.error(m.join("\n"));var O=function(e){return"".concat(e.from,"-").concat(e.to)};Object(i.useEffect)((function(){if(h)if(u){p((function(e){return[]}));var e=ya.buildLinks(n).map((function(e){return function(){return p((function(t){return t.find((function(t){return O(t)===O(e)}))?t:[].concat(Object(P.a)(t),[e])}))}}));J(e,b)}else p(ya.buildLinks(n));else l||p([])}),[p,n,h,l,b,u]);var v=ya.hasPositionedElements(n)?Object(x.a)({position:"relative"},a):{display:"flex",justifyContent:"space-evenly",alignItems:"center",flex:1},y=function(e){return ya.hasPosition(e)?Object(x.a)({position:"absolute"},e.style):null};return Object(r.jsx)(Oa,{style:o,children:Object(r.jsxs)("div",{style:v,children:[n.map((function(e,n){return Object(r.jsx)(_a,{id:e.id,style:y(e),children:e.element?e.element:e},"".concat(t,"-").concat(n))})),g.map((function(e){return Object(r.jsx)(ht.a,{start:"".concat(e.from),end:"".concat(e.to),color:e.config.color,path:e.config.path,strokeWidth:e.config.size,startAnchor:e.config.startSocket,endAnchor:e.config.endSocket,headSize:e.config.head,animateDrawing:!!h&&"0.5s"},"".concat(t,"-line-").concat(e.from,"-").concat(e.to))}))]})})};function ka(){var e=Object(j.a)(["\n  width: 45px;\n  display: inline-block;\n  font-weight: bold;\n  margin-right: 15px;\n"]);return ka=function(){return e},e}function Sa(){var e=Object(j.a)(["\n  opacity: ",";\n  padding-bottom: 400px;\n  margin-bottom: 100px;\n"]);return Sa=function(){return e},e}function Ca(){var e=Object(j.a)(["\n  margin-bottom: 100px;\n"]);return Ca=function(){return e},e}function za(){var e=Object(j.a)(["\n  cursor: pointer;\n  background-color: gold;\n  color: #444;\n  border: none;\n  font-family: Futura;\n  font-weight: bold;\n  border-radius: 4px;\n  padding: 0 3px;\n  margin-left: 2px;\n  &:hover {\n    color: #000;\n  }\n"]);return za=function(){return e},e}function Ta(){var e=Object(j.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 10px solid #0074d9;\n  font-size: 1.2em;\n  background-color: white;\n  padding: 30px;\n"]);return Ta=function(){return e},e}function Ma(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-evenly;\n  align-items: ",";\n"]);return Ma=function(){return e},e}function Ia(){var e=Object(j.a)(["\n  margin-top: 20px;\n  position: sticky;\n  top: 10px;\n  height: 50%;\n"]);return Ia=function(){return e},e}function Na(){var e=Object(j.a)([""]);return Na=function(){return e},e}function Pa(){var e=Object(j.a)([""]);return Pa=function(){return e},e}function La(){var e=Object(j.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return La=function(){return e},e}function Da(){var e=Object(j.a)(["\n  padding: 40vh 2vw 70vh;\n  display: flex;\n  justify-content: space-between;\n"]);return Da=function(){return e},e}function Aa(){var e=Object(j.a)(["\n  flex-basis: 100%;\n"]);return Aa=function(){return e},e}function Ra(){var e=Object(j.a)(["\n  text-align: center;\n  margin: 0 0 5px 0;\n"]);return Ra=function(){return e},e}var Ba=v.a.h4(Ra()),Fa=v.a.div(Aa()),Ea=v.a.div(Da()),Wa=v.a.div(La()),Va=v.a.h2(Pa()),qa=v.a.div(Na()),Ga=v.a.div(Ia()),Ha=function(e){var t=e.width,n=void 0===t?"50%":t,i=e.minWidth,a=void 0===i?700:i,o=e.img,c=e.title,s=e.children,l=e.status,u=e.sizePercent,d=void 0===u?60:u,b=e.imageOpacity,h=void 0===b?.2:b,f=l&&l.progress?d+l.progress*(100-d):d;return Object(r.jsx)(pe,{children:Object(r.jsxs)("div",{style:{width:n,minWidth:a,height:400,position:"relative"},children:[Object(r.jsx)("img",{src:"story-img/".concat(o),alt:"",style:{position:"absolute",width:"".concat(f,"%"),height:"auto",opacity:h,top:"50%",left:"50%",transform:" translate(-50%, -50%)"}}),Object(r.jsxs)("div",{style:{position:"absolute",width:"100%",top:"50%",left:"50%",transform:" translate(-50%, -50%)"},children:[Object(r.jsx)(Va,{children:c}),Object(r.jsx)(Wa,{children:Object(r.jsx)(qa,{style:{},children:s})})]})]})})},Ya=v.a.div(Ma(),(function(e){var t=e.valign;return void 0===t?"center":t})),Xa=function(e){var t=e.status;return Object(r.jsx)("div",{style:$a(t),children:Object(r.jsxs)(Ha,{title:"The Weakness with AI",img:"weakness.png",width:"50%",status:t,children:[Object(r.jsx)("p",{children:"The ability of deep neural network (DNN) machine learning (ML) models to achieve human or above-human task performance is a result of the availability of vast amounts of data. As organizations dedicate expensive resources to data acquisition, processing, labeling and storage and training of DNNs, the data must be treated as sensitive proprietary information. These facts are often expressed as \u201cdata is the new oil\u201d and \u201cdata is the new source code,\u201d respectively."}),Object(r.jsx)("p",{children:"However, recent demonstrations have shown how DNN characteristics and behaviors can be leveraged by malicious actors to make the DNN reveal, learn, or do the wrong thing. To see how DNNs can be exploited, we will first set the stage with an example of a successful machine learning application within the field of computer vision."})]})})},Ua=v.a.div(Ta()),Ja=function(e){var t=e.status;return Object(r.jsx)(wa,{name:"puppies-or-food-flow",elements:[Object(r.jsx)("img",{src:"story-img/puppy.png",id:"puppies-or-food-1",alt:""}),Object(r.jsx)(Ki,{style:{width:180},id:"puppies-or-food-2"}),Object(r.jsx)(Ua,{id:"puppies-or-food-3",children:"food"})],visible:t&&t.visible,startAnimating:t&&t.visible,chainLinkAnimation:!0,betweenLinkDelay:1e3})},Za=function(){return Object(r.jsxs)(Ya,{valign:"start",children:[Object(r.jsx)(vr.a,{before:"story-img/2puppies.png",after:"story-img/2croissants.png",type:"swipe",value:.5,slider:!0}),Object(r.jsx)(vr.a,{before:"story-img/2puppies.png",after:"story-img/2croissants.png",type:"fade",slider:!0})]})},Qa=function(e){var t=e.height;return Object(r.jsx)("div",{style:{width:"100%",height:"".concat(t,"px")}})},Ka=function(e){var t=e.cover,n="rgba(0,0,0,.7)",i={securityPrivacyConcerns:{backgroundColor:n,clipPath:"polygon(0% 33%, 50% 33%, 50% 0%, 100% 0%, 100% 100%, 0% 100%)"},hoverShape:{backgroundColor:n,clipPath:"polygon(0% 33%, 100% 33%, 100% 100%, 0% 100%)"},hoverTexture:{backgroundColor:n,clipPath:"polygon(0% 0%, 100% 0%, 100% 33%, 0% 33%, 0% 66%, 100% 66%, 100% 100%, 0% 100%)"},hoverColor:{backgroundColor:n,clipPath:"polygon(0% 66%, 0% 0%, 100% 0%, 100% 66%)"}};return Object(r.jsxs)("div",{style:{width:"100%"},children:[Object(r.jsx)("img",{src:"story-img/puppies-or-food.png",style:{height:"auto",width:"100%"},alt:""}),Object(r.jsx)("div",{style:Object(x.a)({position:"absolute",top:0,width:"100%",height:"100%",transition:"opacity 0.1s linear",opacity:t?1:0},i[t]||{})})]})},$a=function(e){var t={opacity:"1",transition:"opacity 0.3s linear"};return e&&e.visible?t:Object(x.a)(Object(x.a)({},t),{},{opacity:"0.1"})},eo=v.a.button(za()),to=function(e){var t=e.children,n=e.onHover,i=e.offHover;return Object(r.jsx)(eo,{onMouseEnter:n,onMouseLeave:i,children:t})},no=function(e){var t=e.children,n=e.cover,i=e.setCover;return Object(r.jsx)(to,{onHover:function(){return i(n)},offHover:function(){return i("")},children:t})},ro=v.a.div(Ca()),io=Object(v.a)(ro)(Sa(),(function(e){var t=e.currentView,n=e.viewName;return t&&t.data===n?"1":"0.3"})),ao=function(e){var t=e.status,n=Object(i.useState)(),a=Object(s.a)(n,2),o=a[0],c=a[1],l=Object(i.useState)(),u=Object(s.a)(l,2),d=u[0],b=u[1];return Object(i.useEffect)((function(){b(o&&"4"===o.data?"securityPrivacyConcerns":"")}),[o]),Object(r.jsxs)("div",{style:$a(t),children:[Object(r.jsx)(Va,{children:"Puppies or Food?"}),Object(r.jsxs)(Wa,{children:[Object(r.jsx)(qa,{style:{flexBasis:"50%"},children:Object(r.jsxs)(xr.a,{onStepEnter:c,onStepExit:function(){return c(null)},offset:.4,children:[Object(r.jsx)(xr.b,{data:"1",children:Object(r.jsxs)(io,{viewName:"1",currentView:o,children:[Object(r.jsx)("h4",{children:"Classification: Still a Tough Problem "}),Object(r.jsx)("p",{children:"Undoubtedly, one of the most successful applications of artificial intelligence involves classification within computer vision. In computer vision, the DNN task is to take a new image and categorize it into one of several known classes that it has been trained on. On the right, there are a number of images, some of which are puppies, and some of which are food. Modern day machine learning models can typically perform this classification task so well that it is easy to forget that this is not a solved problem."})]})}),Object(r.jsx)(xr.b,{data:"2",children:Object(r.jsxs)(io,{viewName:"2",currentView:o,children:[Object(r.jsx)("p",{children:"These specific images were collated by Karen Zack, with the Twitter handle of \u201c@teenybiscuit.\u201d It is interesting that you may not be able to classify each image with the same level of ease or confidence. This is true for DNNs as well, epsecially with images with feautures they have not seen before. If you take these images and pass them through modern deep neural networks to see how they perform, don\u2019t be surprised to learn that some of them may also get confused."}),Object(r.jsx)(Ja,{status:t})]})}),Object(r.jsx)(xr.b,{data:"3",children:Object(r.jsxs)(io,{viewName:"3",currentView:o,children:[Object(r.jsx)("h4",{children:" Interpretability: Tough to Explain What is Learned "}),Object(r.jsxs)("p",{children:["These images indicate that DNNs may learn how to identify objects in ways similar to human vision, for instance,",Object(r.jsx)(no,{cover:"hoverShape",setCover:b,children:"shape"}),",",Object(r.jsx)(no,{cover:"hoverTexture",setCover:b,children:"texture"}),", or",Object(r.jsx)(no,{cover:"hoverColor",setCover:b,children:"color"}),". However, within the field there is not a common understanding of what these models are learning."]})]})}),Object(r.jsx)(xr.b,{data:"4",children:Object(r.jsxs)(io,{viewName:"4",currentView:o,children:[Object(r.jsx)("h4",{children:" Security & Privacy Concerns "}),Object(r.jsxs)("p",{children:["Beyond their inherent fun and quality of fooling modern day models, there are a few other lessons that these images highlight. First, you should be aware that for any model, similar examples can always be found \u2013 ones that make a model do the wrong thing despite our attempts to make them extremely accurate. This means that it is likely that our application can be intentionally circumvented by those using it, with possibly unexpected things occurring.",Object(r.jsx)("b",{children:" This presents a security vulnerability. "})]}),Object(r.jsx)("p",{children:"We can try to avoid this vulnerability while also increasing the accuracy by training with examples such as these two:"}),Object(r.jsx)(Za,{status:t}),Object(r.jsxs)("p",{children:["While learning, the model must extract more information about these two images in order to correctly differentiate between them. Often, the model learns characteristics of these specific images, storing what we would consider sensitive information. When this occurs, the model may exhibit different output behavior for those images. This indicates that the DNN is leaking information about specific images, revealing the wrong thing.",Object(r.jsx)("b",{children:" Ths presents a privacy vulnerability. "})]})]})}),Object(r.jsx)(xr.b,{data:"5",children:Object(r.jsxs)(io,{viewName:"5",currentView:o,children:[Object(r.jsx)("h4",{children:"ML is inherently fragile with unstable behavior"}),Object(r.jsx)("p",{children:"All of these observations point out a key characteristic of modern day deep neural networks \u2013 they are inherently fragile and will exhibit unstable behavior. This cannot be avoided and must be considered when building and deploying applications."})]})})]})}),Object(r.jsx)(Ga,{style:{flexBasis:"48%",position:"sticky",marginTop:10},children:Object(r.jsx)(Ka,{status:t,cover:d})})]})]})},oo=function(e){var t=e.title,n=e.children,i=e.bottom,a=void 0!==i&&i;return Object(r.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[t&&!a?Object(r.jsx)(Ba,{children:t}):null,n,t&&a?Object(r.jsx)(Ba,{children:t}):null]})},co=function(e){var t=e.status,n=e.style;return Object(r.jsx)(wa,{name:"mia-layout",size:{height:325,width:500},style:n,elements:[{id:"mia-flow-horse",element:Object(r.jsx)(oo,{children:Object(r.jsx)("img",{src:"story-img/horse.png",alt:""})}),style:{top:140},links:{"mia-flow-target-model":{startSocket:"top",endSocket:"left",size:10,color:"midnightblue",endLabel:"Classify",path:"grid"}}},{id:"mia-flow-target-model",element:Object(r.jsx)(oo,{title:"Target Model",children:Object(r.jsx)("img",{src:"story-img/target-model.png",alt:""})}),style:{left:150,top:10},links:{"mia-flow-bar-chart":{path:"straight",color:"black"}}},{id:"mia-flow-bar-chart",element:Object(r.jsx)(oo,{title:"Yes or No?",bottom:!0,children:Object(r.jsx)("img",{src:"story-img/bar-chart.png",alt:""})}),style:{right:0,top:1}},{id:"mia-flow-compliance-officer",element:Object(r.jsx)(oo,{title:"Compliance Officer",bottom:!0,children:Object(r.jsx)("img",{src:"story-img/compliance-officer.png",alt:""})}),style:{left:150,bottom:0},links:{"mia-flow-horse":{startSocket:"left",endSocket:"bottom",size:10,color:"midnightblue",path:"grid"},"mia-flow-bar-chart":{startSocket:"right",endSocket:"bottom",size:10,color:"midnightblue",path:"grid"}}}],visible:t&&t.visible,startAnimating:t&&t.visible})},so=function(e){var t=e.status;return Object(r.jsxs)("div",{style:$a(t),children:[Object(r.jsx)(Va,{children:"Membership Inference Attack (MIA)"}),Object(r.jsxs)(Wa,{children:[Object(r.jsx)(qa,{style:{flexBasis:"50%"},children:Object(r.jsx)("div",{style:{margin:20,position:"sticky",top:10},children:Object(r.jsx)(co,{status:t})})}),Object(r.jsxs)(qa,{style:{flexBasis:"50%"},children:[Object(r.jsx)("p",{children:"In the membership inference attack, we want to answer the question of whether a specific piece of data was in the training data set for the machine learning model. Here, one does not necessarily need to have access to the original data set, though we have the ability to query the model with input data and obtain the outputs."}),Object(r.jsx)("p",{children:"There are several operational scenarios in which we need to answer this question. First, we may have a deployed model that has been supporting an application for some time. If the data point was used to train that model, it could make the model noncompliant and we would have to terminate its use. Furthermore, any actions previously taken or data previously collected based upon the model could also be noncompliant. Right now, legal precedence says to throw out the model and any evidence that may have been collected with it."}),Object(r.jsx)("p",{children:"Second, you may have a trained a model using a small amount of data that was collected with NTM and as such, it has a higher classification given its relationship to TTP, sources and methods. Given that you do not own the data, it is feasible that others will have access to the data as well. For example, 2nd and 3rd party partners where this model will be deployed into. If that sensitive data can be readily identified from the model output, it puts NTM at risk."})]})]})]})},lo=function(e){var t=e.status;return Object(r.jsxs)("div",{style:$a(t),children:[Object(r.jsx)(Va,{children:"Model Inversion Attack"}),Object(r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(r.jsx)("img",{src:"story-img/Shallow.png",id:"shallow",alt:""}),Object(r.jsx)("div",{style:{margin:"0 50px"},children:"There is no consensus in the machine learning community about what data features DNNs learn while training, which makes it tough to interpret them. However, the work Zeiler and Fergus in the field of visual interpretations of DNNs is a useful starting point. Their method \u201ctransposes\u201d DNNs to find which image patches are responsible for certain neural activations. With the associated results, they argued the shallow layers identify rough features such as edges and colors in the training data set and the deeper layers combine these features into higher level shapes and object abstractions."}),Object(r.jsx)("img",{src:"story-img/Deep.png",id:"deep",alt:""})]}),Object(r.jsx)(Qa,{height:300}),Object(r.jsx)("p",{children:"Here are some class prototypes from the Zeieler and Fergus paper. These images are not real and would never be found in any data set that was generated via imagery collection. However, can you understand what the DNN is looking for in each output class?"}),Object(r.jsx)(Yi,{}),Object(r.jsx)(Qa,{height:300}),Object(r.jsx)("p",{children:"In the model inversion attack, the output nodes of a DNN are used to reconstruct a prototype represenation of each class. The optimization process used to accomplish this is very similar to the one used in the training of the DNN and the technqiue used by Zeiler and Fergus. In the case of image classification, a DNN is a function, f, that maps high-dimensional input image features of height H, width W, and D channels, to a probability vector with dimensions, d, matching the number of possible categories. Model inversion seeks to find an image such that the output probability for that class is maximized, while the other possible outputs are minimized."}),Object(r.jsx)("p",{children:"Stochastic gradient ascent can be used with an associated cost function to iteratively transform a proposed image to the local maxima of the differentiable function, f. This is very similar to how weight updates occur in neural network training, where the inputs and outputs are constant. In this case, the weights and output class are held constant and the input is updated."}),Object(r.jsx)("p",{children:"These class prototypes are images represent the extracted features that allow the network to best differentiate amongst the classes."}),Object(r.jsx)(pa,{}),Object(r.jsx)("p",{children:"However, anyone can perform model inversion against any model. Below we include an example of audio inversion. Can you hear what each class is looking for?"}),Object(r.jsx)(Wa,{children:Object(r.jsx)(qa,{style:{flexBasis:"100%"},children:Object(r.jsx)(uo,{width:"60vw"})})})]})},uo=function(e){return Object(r.jsx)(Ya,{children:Object(r.jsx)(Vr,Object(x.a)({images:["story-img/match_game_cifar_robust_images_deer_threshold_1.png","story-img/match_game_cifar_robust_images_deer_threshold_16.png","story-img/match_game_cifar_robust_images_deer_threshold_32.png","story-img/match_game_cifar_robust_images_deer_threshold_64.png","story-img/match_game_cifar_robust_images_deer_threshold_128.png","story-img/match_game_cifar_robust_images_deer_threshold_256.png"],info:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h3",{children:"Reverse Engineering Data Prototypes"}),Object(r.jsx)("p",{style:{fontSize:".85rem",color:"lightslategray"},children:'The model inversion attack seeks to reconstruct representations of the training data in order to glean information about sensitive data-collection tools, techniques and tradecraft. For computer vision models, inversion can produce image representations for every class label in the model. The interactive figure below demonstrates real images formed during an inversion of the deer class. The inversion process is an optimization problem similar to that used to train the model in the first place. Here, the image inversion is randomly initialized and a new image is saved at each stage. In the early stages of inversion optimization, these images typically remain gray and not visually interpretable and thus we refer to these generated images "gray data". However, as the inversion process continues, these images can have significant elements that are human interpretable.'})]})},e))})},bo=function(e){var t=e.status;return Object(r.jsxs)("div",{style:$a(t),children:[Object(r.jsx)(Va,{children:"A game of 20 Questions..."}),Object(r.jsxs)(Wa,{children:[Object(r.jsx)(qa,{style:{flexBasis:"60%"},children:Object(r.jsxs)("div",{style:{position:"sticky",top:10},children:[Object(r.jsx)("p",{children:"If DNNs did not leak any information about it's training set, there would be no way to answer this question better than randomly guessing 'yes' or 'no'."}),Object(r.jsx)("p",{children:"Thus, perhaps the easiest strategy for an attacker is to predict 'no' everytime the model gets the class prediction wrong. This strategy is based upon the notion that since the DNN is good at this task, if it gets the prediction wrong, then most likely it has not seen the image before."}),Object(r.jsxs)("p",{children:["This is problematic for models that are severely overfit, where there is a large gap between the accuracy of training images and new images. As such, this is known as the ",Object(r.jsx)("b",{children:" 'Gap Attack' "})," and it will have results better than random guessing by an amount related to the size of the gap."]}),Object(r.jsxs)("p",{children:["However, even for models that are not overfit and only output the predicted label, there is a way to perform a successful membership attack. By adding noise to the input, it is possible to trick the model into a wrong classification. To see this, add noise to the images on the right. One image was in the training data set and the other was not. But by adding enough noise to the images, a successful misclassification will occur. See if you can determine a noise level that gives you strong confidence about whether the image was used in the training or not. This is known as the"," ",Object(r.jsx)("b",{children:"'Label-Only Attack' "})," since it can be performed even when the model's output is nothing more than the class label."]})]})}),Object(r.jsx)(qa,{style:{flexBasis:"40%"},children:Object(r.jsx)(Ai,{})})]})]})},ho=function(e){var t=e.status;return Object(r.jsxs)("div",{style:$a(t),children:[Object(r.jsx)(Va,{children:"Label-Only Attack Threshold"}),Object(r.jsxs)(Wa,{children:[Object(r.jsx)(qa,{style:{flexBasis:"55%"},children:Object(r.jsx)(wi,{nodeSize:13,defaultThreshold:4.5,bottomLabel:"Distance",sliderLabel:"Threshold"})}),Object(r.jsx)(qa,{style:{flexBasis:"50%"},children:Object(r.jsxs)("div",{style:{position:"sticky",top:10},children:[Object(r.jsx)(Qa,{height:75}),Object(r.jsx)("p",{children:"For images that the model has been trained on, the amount of noise needed to fool the model is typically higher. In other words, for images not in the training, it is easier to obtain an incorrect label. By using your own data, you can determine the noise level that will give optimal attack results. This can be used in the attack of other target models."})]})})]})]})},fo=v.a.div(ka()),jo=function(e){var t=e.viewState;if(e.hide)return null;var n;return Object(r.jsx)("div",{style:{position:"fixed",top:50,left:50,zIndex:999999999999,padding:5,border:"1px solid black",backgroundColor:"pink"},children:Object(r.jsxs)("div",{children:[Object(r.jsx)(fo,{children:"View:"}),t.currentView||"None",Object(r.jsx)("br",{}),Object(r.jsx)(fo,{children:"Scroll:"}),(n=(t[t.currentView]||{progress:""}).progress,n?(100*n).toFixed():0),"%"]})})},go=function(e){var t=e.debugScrolling,n=void 0!==t&&t,a=Object(i.useState)({}),o=Object(s.a)(a,2),c=o[0],l=o[1],u=Object(i.useState)({}),d=Object(s.a)(u,2),b=d[0],h=d[1];return Object(i.useEffect)((function(){var e;return c.view?h(Object(x.a)(Object(x.a)({},b),{},(e={},Object(m.a)(e,c.view,Object(x.a)(Object(x.a)({},b[c.view]),c)),Object(m.a)(e,"currentView",c.view),e))):null}),[c]),Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(Ea,{children:[Object(r.jsx)(Fa,{children:Object(r.jsxs)(xr.a,{onStepEnter:function(e){var t=e.data;return l({view:t,visible:!0})},onStepExit:function(e){var t=e.data;return l({view:t,visible:!1})},progress:!0,onStepProgress:function(e){var t=e.data,n=e.progress;return l({view:t,visible:!0,progress:n})},offset:.4,debug:n,children:[Object(r.jsx)(xr.b,{data:"weakness",children:Object(r.jsx)(ro,{children:Object(r.jsx)(Xa,{status:b.weakness})})}),Object(r.jsx)(xr.b,{data:"puppies-or-food",children:Object(r.jsx)(ro,{children:Object(r.jsx)(ao,{status:b["puppies-or-food"]})})}),Object(r.jsx)(xr.b,{data:"mia",children:Object(r.jsx)(ro,{children:Object(r.jsx)(so,{status:b.mia})})}),Object(r.jsx)(xr.b,{data:"20q",children:Object(r.jsx)(ro,{children:Object(r.jsx)(bo,{status:b["20q"]})})}),Object(r.jsx)(xr.b,{data:"dot-matrix",children:Object(r.jsx)(ro,{children:Object(r.jsx)(ho,{status:b["dot-matrix"]})})}),Object(r.jsx)(xr.b,{data:"model-inversion-attack",children:Object(r.jsx)(ro,{children:Object(r.jsx)(lo,{status:b["model-inversion-attack"]})})})]})}),Object(r.jsx)(jo,{hide:!n,viewState:b})]})})},po=n(216),mo=n.n(po);mo.a.setAppElement("#root");var xo=function(e){var t=e.title,n=e.subtitle,i={container:{marginBottom:5},title:{fontSize:20,fontWeight:"bold"},subtitle:{fontSize:14,color:"gray"}};return Object(r.jsxs)("div",{style:i.container,children:[Object(r.jsx)("div",{style:i.title,children:t}),Object(r.jsx)("span",{style:i.subtitle,children:n})]})},Oo=Object(d.f)((function(e){var t=e.history,n=Object(i.useState)(!1),a=Object(s.a)(n,2),o=a[0],c=a[1],l=function(){return c(!o)};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(mo.a,{isOpen:o,onRequestClose:l,contentLabel:"My dialog",children:[Object(r.jsx)(xo,{title:"A game of 16 questions\u2026beat Carnac!",subtitle:"AI Jimmy is really good at identifying the object in images that he has seen before. Select (check) which of the following images you think Jimmy remembers. You will be playing against Carnac and who ever gets more correct, wins!"}),Object(r.jsx)("button",{onClick:l,style:{position:"absolute",top:5,right:5,border:0,background:"none"},children:Object(r.jsx)(h.a,{color:"black",isSelected:!0})})]}),Object(r.jsx)(f.b,{alwaysShowTitle:!0,mainButtonStyles:{backgroundColor:"slategray"},icon:". . .",children:Object(r.jsx)(f.a,{text:"Back to Game Menu",onClick:function(){"#/"===window.location.hash?window.scrollTo({top:0,left:0,behavior:"auto"}):t.push("/")},children:Object(r.jsx)(ye,{symbol:"0x21A9"})})})]})})),vo=function(){return Object(r.jsx)(u,{children:Object(r.jsxs)(Et.a,{children:[Object(r.jsxs)(d.c,{children:[Object(r.jsx)(d.a,{path:"/20q/learn",children:Object(r.jsx)(Qn,{})}),Object(r.jsx)(d.a,{path:"/20q/easy",children:Object(r.jsx)(ot,{gameMode:"easy"})}),Object(r.jsx)(d.a,{path:"/20q/hard",children:Object(r.jsx)(ot,{gameMode:"hard"})}),Object(r.jsx)(d.a,{path:"/match/learn",children:Object(r.jsx)(Ft,{gameMode:"learn"})}),Object(r.jsx)(d.a,{path:"/match/easy",children:Object(r.jsx)(Ft,{gameMode:"easy"})}),Object(r.jsx)(d.a,{path:"/match/hard",children:Object(r.jsx)(Ft,{gameMode:"hard"})}),Object(r.jsxs)(d.a,{path:"/",children:[Object(r.jsx)(mr,{}),Object(r.jsx)(go,{})]})]}),Object(r.jsx)(Oo,{})]})})},yo=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(vo,{}),Object(r.jsx)(q.a,{effect:"solid"})]})},_o=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,614)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};c.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(yo,{})}),document.getElementById("root")),_o()}},[[562,1,2]]]);
//# sourceMappingURL=main.02f82b7e.chunk.js.map